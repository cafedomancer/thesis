{"body": "I supposed that no one will ask :), but you did so..\nWarning: understanding a story below may seriously drain your today stamina.\n\n\nDynamically generated method acts as cache for callback chain code.\nPreviously this cache was generated on per class basics. So every class had it's own runner method:\n\n``` diff\n-        \"_run__#{self.name.hash.abs}__#{kind}__callbacks\"\n#                        ^ class name\n```\n\nEvery time we update callbacks - a cache method should be undefined - what `__reset_runner` was doing.\n\n(I can assume that this use case is pretty esoteric. This method is only generated after first run of callbacks. So undefine runner can only be valuable if someone changes callbacks after initializaton process finishes somewhere later).\n\nBut that is a past.\n\nNow it's generated on per chain basis.\n\n``` diff\n+        name = \"_run_callbacks_#{chain.object_id}\"\n```\n\nAt first it means that when different classes has same chain object - they will share runner method as well.\nAt second it means that do not need to flush a cache - as when callback chain gets updated it's `object_id` changes and new callback method will be generated.(which is still pretty esoteric but possible)\n ", "url": "https://api.github.com/repos/rails/rails/issues/comments/5743648", "created_at": "2012-05-16T15:25:12Z", "html_url": "https://github.com/rails/rails/pull/6351#issuecomment-5743648", "updated_at": "2012-05-16T15:25:12Z", "repo": "rails", "issue_id": 6351, "user": {"following_url": "https://api.github.com/users/bogdan/following{/other_user}", "events_url": "https://api.github.com/users/bogdan/events{/privacy}", "organizations_url": "https://api.github.com/users/bogdan/orgs", "url": "https://api.github.com/users/bogdan", "gists_url": "https://api.github.com/users/bogdan/gists{/gist_id}", "html_url": "https://github.com/bogdan", "subscriptions_url": "https://api.github.com/users/bogdan/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/91913f6ab8085bab0f2aa43995ba8ca2?d=https%3A%2F%2Fidenticons.github.com%2F926d19e70f74c20f796d376aafa3c6e2.png", "repos_url": "https://api.github.com/users/bogdan/repos", "received_events_url": "https://api.github.com/users/bogdan/received_events", "gravatar_id": "91913f6ab8085bab0f2aa43995ba8ca2", "starred_url": "https://api.github.com/users/bogdan/starred{/owner}{/repo}", "login": "bogdan", "type": "User", "id": 122436, "followers_url": "https://api.github.com/users/bogdan/followers"}, "owner": "rails", "_id": {"$oid": "52380a8dbd3543c15100cf1c"}, "id": 5743648, "issue_url": "https://api.github.com/repos/rails/rails/issues/6351"}
