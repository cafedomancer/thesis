{"updated_at": "2013-02-16T16:02:17Z", "repo": "rails", "created_at": "2013-02-16T16:02:17Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/13654825", "id": 13654825, "issue_url": "https://api.github.com/repos/rails/rails/issues/8895", "issue_id": 8895, "user": {"repos_url": "https://api.github.com/users/dgm/repos", "type": "User", "html_url": "https://github.com/dgm", "starred_url": "https://api.github.com/users/dgm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgm/subscriptions", "following_url": "https://api.github.com/users/dgm/following{/other_user}", "gravatar_id": "235c58ad566abb4c7979bc7033e9882c", "organizations_url": "https://api.github.com/users/dgm/orgs", "url": "https://api.github.com/users/dgm", "gists_url": "https://api.github.com/users/dgm/gists{/gist_id}", "avatar_url": "https://2.gravatar.com/avatar/235c58ad566abb4c7979bc7033e9882c?d=https%3A%2F%2Fidenticons.github.com%2F83c3892f64bc16b745175c63f331e166.png", "id": 52503, "events_url": "https://api.github.com/users/dgm/events{/privacy}", "login": "dgm", "received_events_url": "https://api.github.com/users/dgm/received_events", "followers_url": "https://api.github.com/users/dgm/followers"}, "body": "+1 for official release.  This regression caused a number of forms to fail when we were forced to install security upgrade releases.  \r\n\r\n```\r\nclass PhoneNumber < ActiveRecord::Base\r\n  has_many :personal_phone_numbers, :dependent => :destroy\r\n  has_many :people, :through => :personal_phone_numbers\r\nend\r\n\r\nclass Person < ActiveRecord::Base\r\n  has_many :personal_phone_numbers, :dependent => :destroy\r\n  has_many :phone_numbers, :through => :personal_phone_numbers\r\nend\r\n\r\nclass PersonalPhoneNumber < ActiveRecord::Base\r\n  belongs_to :person\r\n  belongs_to :phone_number\r\n\r\n  validates :person_id, :existence => true, :presence => true\r\n  validates :phone_number_id, :existence => true, :presence => true\r\nend\r\n\r\n> p = Person.new \r\n> pn = PhoneNumber.new(:phone_number => '555-5555', :phone_type => 'Home')\r\n> p.phone_numbers << pn\r\n> p.valid?\r\n=> false\r\n\r\n```\r\nI had several models set up like this that fail to save properly now.  Current 3-2-stable branch works fine.", "_id": {"$oid": "5237eee5bd3543c15100a05a"}, "html_url": "https://github.com/rails/rails/pull/8895#issuecomment-13654825"}
