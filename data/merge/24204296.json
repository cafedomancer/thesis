{"body": "I just run the discourse bench on this and got the following:\r\n\r\n**Before**\r\n\r\n```\r\n---\r\nhome_page:\r\n  50: 27\r\n  75: 28\r\n  90: 29\r\n  99: 71\r\ntopic_page:\r\n  50: 44\r\n  75: 45\r\n  90: 46\r\n  99: 93\r\nhome_page_admin:\r\n  50: 36\r\n  75: 37\r\n  90: 38\r\n  99: 85\r\ntopic_page_admin:\r\n  50: 60\r\n  75: 63\r\n  90: 65\r\n  99: 183\r\ntimings:\r\n  load_rails: 2479\r\nruby-version: 2.0.0-p247\r\n\r\n```\r\n\r\n**After**\r\n\r\n```\r\n---\r\nhome_page:\r\n  50: 26\r\n  75: 26\r\n  90: 27\r\n  99: 72\r\ntopic_page:\r\n  50: 42\r\n  75: 43\r\n  90: 45\r\n  99: 95\r\nhome_page_admin:\r\n  50: 35\r\n  75: 36\r\n  90: 37\r\n  99: 81\r\ntopic_page_admin:\r\n  50: 57\r\n  75: 60\r\n  90: 64\r\n  99: 177\r\ntimings:\r\n  load_rails: 2624\r\n```\r\n\r\nIts a noticeable improvement, brings Discourse home page only a smidgen slower than it was on rails 3 but the topic page is now much faster. \r\n\r\n\r\nFor comparison, these are the numbers on Rails 3\r\n\r\n```\r\n---\r\nhome_page:\r\n  50: 25\r\n  75: 26\r\n  90: 27\r\n  99: 81\r\ntopic_page:\r\n  50: 46\r\n  75: 48\r\n  90: 52\r\n  99: 103\r\nhome_page_admin:\r\n  50: 34\r\n  75: 36\r\n  90: 37\r\n  99: 86\r\ntopic_page_admin:\r\n  50: 61\r\n  75: 65\r\n  90: 69\r\n  99: 120\r\ntimings:\r\n  load_rails: 2463\r\n\r\n```\r\n\r\n\r\n", "url": "https://api.github.com/repos/rails/rails/issues/comments/24204296", "created_at": "2013-09-11T00:01:27Z", "html_url": "https://github.com/rails/rails/pull/12188#issuecomment-24204296", "updated_at": "2013-09-11T00:04:40Z", "repo": "rails", "issue_id": 12188, "user": {"following_url": "https://api.github.com/users/SamSaffron/following{/other_user}", "events_url": "https://api.github.com/users/SamSaffron/events{/privacy}", "organizations_url": "https://api.github.com/users/SamSaffron/orgs", "url": "https://api.github.com/users/SamSaffron", "gists_url": "https://api.github.com/users/SamSaffron/gists{/gist_id}", "html_url": "https://github.com/SamSaffron", "subscriptions_url": "https://api.github.com/users/SamSaffron/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/3dcae8378d46c244172a115c28ca49ce?d=https%3A%2F%2Fidenticons.github.com%2F7d3010c11d08cf990b7614d2c2ca9098.png", "repos_url": "https://api.github.com/users/SamSaffron/repos", "received_events_url": "https://api.github.com/users/SamSaffron/received_events", "gravatar_id": "3dcae8378d46c244172a115c28ca49ce", "starred_url": "https://api.github.com/users/SamSaffron/starred{/owner}{/repo}", "login": "SamSaffron", "type": "User", "id": 5213, "followers_url": "https://api.github.com/users/SamSaffron/followers"}, "owner": "rails", "_id": {"$oid": "5237ce49bd3543c151007a1c"}, "id": 24204296, "issue_url": "https://api.github.com/repos/rails/rails/issues/12188"}
