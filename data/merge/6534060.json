{"body": "There's no problem with using the `:time` data type in Sqlite 3 databases - you can use whatever type name you want and it will faithfully record it in the table information.The problem comes from when the data is inserted in the database. The full date and time string is sent to the database and it's stored literally - even the word 'now' is stored literally, which can be exploited to always put something first when sorting by reverse date order.\n\nWhen a time columns is read from the database it has it's date changed to 1/1/2000 by Rails, but it's not changed when when the value is written (we should do to fix #3145). Whether by design or luck this is the date that Sqlite assumes when given a time string of 'HH:MM:SS' so we should probably send that instead. The problem is how to handle querying - we can cast to a time string when using `where(start: Time.current)` or even `where(start: Time.current..1.hour.from_now)` but `where('start > ?', Time.current)` is tricky.\n\nSo we need to revert this commit and address how we are sending time strings to the database.", "url": "https://api.github.com/repos/rails/rails/issues/comments/6534060", "created_at": "2012-06-24T16:10:49Z", "html_url": "https://github.com/rails/rails/pull/6344#issuecomment-6534060", "updated_at": "2012-06-24T16:10:49Z", "repo": "rails", "issue_id": 6344, "user": {"following_url": "https://api.github.com/users/pixeltrix/following{/other_user}", "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}", "organizations_url": "https://api.github.com/users/pixeltrix/orgs", "url": "https://api.github.com/users/pixeltrix", "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}", "html_url": "https://github.com/pixeltrix", "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/b14001f2b40640dd6cb63f0e8f1f4869?d=https%3A%2F%2Fidenticons.github.com%2F7cb36e23529e4de4c41460940cc85e6e.png", "repos_url": "https://api.github.com/users/pixeltrix/repos", "received_events_url": "https://api.github.com/users/pixeltrix/received_events", "gravatar_id": "b14001f2b40640dd6cb63f0e8f1f4869", "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}", "login": "pixeltrix", "type": "User", "id": 6321, "followers_url": "https://api.github.com/users/pixeltrix/followers"}, "owner": "rails", "_id": {"$oid": "52380aabbd3543c15100cf43"}, "id": 6534060, "issue_url": "https://api.github.com/repos/rails/rails/issues/6344"}
