{"body": "I think the ability to pass in proxies to be filtered is very important, because its the only way to get the real IP in a situation where one proxy adds to the front but another proxy adds to the end. So I think we should keep it. Since the option is already scoped to the remote IP middleware, and applies to more than one header, I would suggest naming it \"first_ip\" or \"first_client_ip\".\r\n\r\nOn Oct 22, 2012, at 11:09 AM, Alexey Gaziev <notifications@github.com> wrote:\r\n\r\n> So, I'm ready to push some commits. I did the same option usage as with ip_spoofing_check. And I wrote some tests to check different order usage\r\n> \r\n> And btw I think that we shouldn't filter values from X_FORWARDED_FOR and give to user unexpected IP of unknown proxy server. We should give him only first or last ip from list as we decided here. I changed code in remote_ip.rb and fix tests for it. What do you think @indirect, @steveklabnik?\r\n> \r\n> \u0081\\\r\n> Reply to this email directly or view it on GitHub.\r\n> ", "url": "https://api.github.com/repos/rails/rails/issues/comments/9675856", "created_at": "2012-10-22T18:54:16Z", "html_url": "https://github.com/rails/rails/pull/7980#issuecomment-9675856", "updated_at": "2012-10-22T18:54:16Z", "repo": "rails", "issue_id": 7980, "user": {"following_url": "https://api.github.com/users/indirect/following{/other_user}", "events_url": "https://api.github.com/users/indirect/events{/privacy}", "organizations_url": "https://api.github.com/users/indirect/orgs", "url": "https://api.github.com/users/indirect", "gists_url": "https://api.github.com/users/indirect/gists{/gist_id}", "html_url": "https://github.com/indirect", "subscriptions_url": "https://api.github.com/users/indirect/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/4c3ed917e59156a36212d48155831482?d=https%3A%2F%2Fidenticons.github.com%2F35f4a8d465e6e1edc05f3d8ab658c551.png", "repos_url": "https://api.github.com/users/indirect/repos", "received_events_url": "https://api.github.com/users/indirect/received_events", "gravatar_id": "4c3ed917e59156a36212d48155831482", "starred_url": "https://api.github.com/users/indirect/starred{/owner}{/repo}", "login": "indirect", "type": "User", "id": 78, "followers_url": "https://api.github.com/users/indirect/followers"}, "owner": "rails", "_id": {"$oid": "523db5b8bd354364b90095d0"}, "id": 9675856, "issue_url": "https://api.github.com/repos/rails/rails/issues/7980"}
