{"body": "As of today, if the user sets `auto_explain_threshold_in_seconds` to some value, then he is telling Active Record that he wants auto explains.\n\nWhen I wrote this feature I thought perhaps that was enough interface. Do you want automatic explains? set a threshold. You don't want them? do not tell Active Record to monitor queries.\n\nBut I see your point and perhaps practice is telling that contract is not enough. The application could perhaps warn: \"auto_explain_threshold_in_seconds is set but will be ignored because your adapter does not support this feature. Please unset the configuration to avoid this warning.\" and then in any case be robust to that and do not break. So in that sense I am positive about doing something about this.\n\nAt application generation time unfortunately we can't tell because we have no adapter at that moment to ask and we generate unconditionally (unless Active Record itself is skipped via its flag).\n\nSo :+1: to check `supports_explain?`.\n\nI am strongly :-1: on basing this on `respond_to?` because there are many predicates inherited from the abstract adapter to be overriden by adapters in the same fashion. See `supports_count_distinct?`, `supports_migrations?`, `supports_savepoints?` and a ton others. `supports_explain?` was implemented that way to follow this already existing pattern.", "url": "https://api.github.com/repos/rails/rails/issues/comments/5774900", "created_at": "2012-05-17T21:41:57Z", "html_url": "https://github.com/rails/rails/pull/6197#issuecomment-5774900", "updated_at": "2012-05-17T21:45:50Z", "repo": "rails", "issue_id": 6197, "user": {"following_url": "https://api.github.com/users/fxn/following{/other_user}", "events_url": "https://api.github.com/users/fxn/events{/privacy}", "organizations_url": "https://api.github.com/users/fxn/orgs", "url": "https://api.github.com/users/fxn", "gists_url": "https://api.github.com/users/fxn/gists{/gist_id}", "html_url": "https://github.com/fxn", "subscriptions_url": "https://api.github.com/users/fxn/subscriptions", "avatar_url": "https://2.gravatar.com/avatar/7223c62b7310e164eb79c740188abbda?d=https%3A%2F%2Fidenticons.github.com%2F4a11654ad1e1e48352252859ff3032a0.png", "repos_url": "https://api.github.com/users/fxn/repos", "received_events_url": "https://api.github.com/users/fxn/received_events", "gravatar_id": "7223c62b7310e164eb79c740188abbda", "starred_url": "https://api.github.com/users/fxn/starred{/owner}{/repo}", "login": "fxn", "type": "User", "id": 3387, "followers_url": "https://api.github.com/users/fxn/followers"}, "owner": "rails", "_id": {"$oid": "52380cb5bd3543c15100d1c0"}, "id": 5774900, "issue_url": "https://api.github.com/repos/rails/rails/issues/6197"}
