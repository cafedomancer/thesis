{"updated_at": "2011-05-07T15:39:20Z", "repo": "rails", "created_at": "2011-05-07T15:39:20Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/1115656", "id": 1115656, "issue_url": "https://api.github.com/repos/rails/rails/issues/423", "issue_id": 423, "user": {"repos_url": "https://api.github.com/users/josevalim/repos", "type": "User", "html_url": "https://github.com/josevalim", "starred_url": "https://api.github.com/users/josevalim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josevalim/subscriptions", "following_url": "https://api.github.com/users/josevalim/following{/other_user}", "gravatar_id": "e837f6b7fd146ab16ed3d663476c063e", "organizations_url": "https://api.github.com/users/josevalim/orgs", "url": "https://api.github.com/users/josevalim", "gists_url": "https://api.github.com/users/josevalim/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/e837f6b7fd146ab16ed3d663476c063e?d=https%3A%2F%2Fidenticons.github.com%2Fe20b21ae6508f22fc189c60a0880d0b8.png", "id": 9582, "events_url": "https://api.github.com/users/josevalim/events{/privacy}", "login": "josevalim", "received_events_url": "https://api.github.com/users/josevalim/received_events", "followers_url": "https://api.github.com/users/josevalim/followers"}, "body": "So here is what I just did:\r\n\r\n1) I have forked Rails again, created a new branch and typed:\r\n\r\n  git checkout -b imfix\r\n  git revert 886818d\r\n\r\n2) Then, I went to activerecord, under REE and did:\r\n\r\n  rake test_sqlite3\r\n\r\n3) I got the following failures:\r\n\r\n  1) Error:\r\ntest_find_by_sess_id_compat(ActiveRecord::SessionStore::SessionTest):\r\nArgumentError: interning empty string\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `to_sym'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `symbolized_sti_name'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/identity_map.rb:71:in `remove'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/attribute_methods/dirty.rb:38:in `save!'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:246:in `save!'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:295:in `with_transaction_returning_status'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:191:in `transaction'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:208:in `transaction'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:293:in `with_transaction_returning_status'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:246:in `save!'\r\n    ./test/cases/session_store/session_test.rb:43:in `test_find_by_sess_id_compat'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `run'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:408:in `_run_setup_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `send'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `run_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:65:in `run'\r\n\r\n  2) Error:\r\ntest_read_attributes_after_type_cast_on_datetime(AttributeMethodsTest):\r\nArgumentError: interning empty string\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `to_sym'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `symbolized_sti_name'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/identity_map.rb:71:in `remove'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:254:in `rollback_active_record_state!'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:240:in `save'\r\n    ./test/cases/attribute_methods_test.rb:162:in `test_read_attributes_after_type_cast_on_datetime'\r\n    ./test/cases/attribute_methods_test.rb:667:in `in_time_zone'\r\n    ./test/cases/attribute_methods_test.rb:151:in `test_read_attributes_after_type_cast_on_datetime'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `run'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:408:in `_run_setup_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `send'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `run_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:65:in `run'\r\n\r\n  3) Error:\r\ntest_time_attributes_changes_with_time_zone(DirtyTest):\r\nArgumentError: interning empty string\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `to_sym'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `symbolized_sti_name'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/identity_map.rb:71:in `remove'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/attribute_methods/dirty.rb:38:in `save!'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:246:in `save!'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:295:in `with_transaction_returning_status'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:191:in `transaction'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:208:in `transaction'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:293:in `with_transaction_returning_status'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:246:in `save!'\r\n    ./test/cases/dirty_test.rb:69:in `test_time_attributes_changes_with_time_zone'\r\n    ./test/cases/dirty_test.rb:522:in `in_time_zone'\r\n    ./test/cases/dirty_test.rb:58:in `test_time_attributes_changes_with_time_zone'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `run'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:408:in `_run_setup_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `send'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `run_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:65:in `run'\r\n\r\n  4) Error:\r\ntest_time_attributes_changes_without_time_zone(DirtyTest):\r\nArgumentError: interning empty string\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `to_sym'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `symbolized_sti_name'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/identity_map.rb:71:in `remove'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/attribute_methods/dirty.rb:38:in `save!'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:246:in `save!'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:295:in `with_transaction_returning_status'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:191:in `transaction'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:208:in `transaction'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:293:in `with_transaction_returning_status'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:246:in `save!'\r\n    ./test/cases/dirty_test.rb:125:in `test_time_attributes_changes_without_time_zone'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `run'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:408:in `_run_setup_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `send'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `run_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:65:in `run'\r\n\r\n  5) Error:\r\ntest_time_attributes_changes_without_time_zone_by_skip(DirtyTest):\r\nArgumentError: interning empty string\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `to_sym'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `symbolized_sti_name'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/identity_map.rb:71:in `remove'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/attribute_methods/dirty.rb:38:in `save!'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:246:in `save!'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:295:in `with_transaction_returning_status'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:191:in `transaction'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:208:in `transaction'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:293:in `with_transaction_returning_status'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/transactions.rb:246:in `save!'\r\n    ./test/cases/dirty_test.rb:96:in `test_time_attributes_changes_without_time_zone_by_skip'\r\n    ./test/cases/dirty_test.rb:522:in `in_time_zone'\r\n    ./test/cases/dirty_test.rb:83:in `test_time_attributes_changes_without_time_zone_by_skip'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `run'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:408:in `_run_setup_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `send'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `run_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:65:in `run'\r\n\r\n  6) Error:\r\ntest_observing_subclasses(LifecycleTest):\r\nArgumentError: interning empty string\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `to_sym'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:834:in `symbolized_sti_name'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/identity_map.rb:52:in `get'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/relation/finder_methods.rb:319:in `find_one'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/relation/finder_methods.rb:304:in `find_with_ids'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/relation/finder_methods.rb:107:in `find'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:440:in `__send__'\r\n    /Users/jose/Work/github/rails/activerecord/lib/active_record/base.rb:440:in `find'\r\n    ./test/cases/lifecycle_test.rb:173:in `test_observing_subclasses'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `run'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:408:in `_run_setup_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `send'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/callbacks.rb:81:in `run_callbacks'\r\n    /Users/jose/Work/github/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:65:in `run'\r\n\r\n2937 tests, 8925 assertions, 0 failures, 6 errors\r\n\r\nYou are probably finding it hard to rebase because you applied your commits to your branch master. Generally, it is easier if you work on branches and always leave the branch master for sync.", "_id": {"$oid": "52386077bd3543c151012272"}, "html_url": "https://github.com/rails/rails/pull/423#issuecomment-1115656"}
