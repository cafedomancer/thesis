{"updated_at": "2013-09-16T03:25:42Z", "repo": "rails", "created_at": "2013-09-16T02:52:05Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/24486706", "id": 24486706, "issue_url": "https://api.github.com/repos/rails/rails/issues/12188", "issue_id": 12188, "user": {"repos_url": "https://api.github.com/users/parndt/repos", "type": "User", "html_url": "https://github.com/parndt", "starred_url": "https://api.github.com/users/parndt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parndt/subscriptions", "following_url": "https://api.github.com/users/parndt/following{/other_user}", "gravatar_id": "fe9ccfa856aa05ff2d534fcf87cc74f5", "organizations_url": "https://api.github.com/users/parndt/orgs", "url": "https://api.github.com/users/parndt", "gists_url": "https://api.github.com/users/parndt/gists{/gist_id}", "avatar_url": "https://0.gravatar.com/avatar/fe9ccfa856aa05ff2d534fcf87cc74f5?d=https%3A%2F%2Fidenticons.github.com%2F85c9f9efab89cee90a95cb98f15feacd.png", "id": 10128, "events_url": "https://api.github.com/users/parndt/events{/privacy}", "login": "parndt", "received_events_url": "https://api.github.com/users/parndt/received_events", "followers_url": "https://api.github.com/users/parndt/followers"}, "body": "@tenderlove @SamSaffron I've been using 4-0-stable happily until this was merged, 918a148522ede71888daf447297db8d423472c14 is the first 'bad' commit which causes this issue:\r\n\r\n```\r\n$ bundle exec rake db:migrate db:seed\r\n==  CreatePageImages: migrating ===============================================\r\n-- create_table(\"refinery_image_pages\", {:id=>false})\r\n   -> 0.0171s\r\n-- add_index(\"refinery_image_pages\", :image_id)\r\n   -> 0.0038s\r\n-- add_index(\"refinery_image_pages\", :page_id)\r\n   -> 0.0020s\r\n==  CreatePageImages: migrated (0.0309s) ======================================\r\n\r\nrake aborted!\r\nAn error has occurred, this and all later migrations canceled:\r\n\r\nundefined method `[]' for nil:NilClass\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/attribute_methods/read.rb:86:in `block in read_attribute'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/attribute_methods/read.rb:84:in `fetch'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/attribute_methods/read.rb:84:in `read_attribute'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/attribute_methods.rb:243:in `block in attributes'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/attribute_methods.rb:242:in `each'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/attribute_methods.rb:242:in `each_with_object'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/attribute_methods.rb:242:in `attributes'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/attribute_methods/dirty.rb:84:in `keys_for_partial_write'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/attribute_methods/dirty.rb:78:in `create_record'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/callbacks.rb:303:in `block in create_record'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activesupport/lib/active_support/callbacks.rb:373:in `_run__2197611318522249411__create__callbacks'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activesupport/lib/active_support/callbacks.rb:80:in `run_callbacks'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/callbacks.rb:303:in `create_record'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/timestamp.rb:57:in `create_record'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/persistence.rb:467:in `create_or_update'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/callbacks.rb:299:in `block in create_or_update'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activesupport/lib/active_support/callbacks.rb:373:in `_run__2197611318522249411__save__callbacks'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activesupport/lib/active_support/callbacks.rb:80:in `run_callbacks'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/callbacks.rb:299:in `create_or_update'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/persistence.rb:128:in `save!'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/validations.rb:57:in `save!'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/attribute_methods/dirty.rb:41:in `save!'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/transactions.rb:275:in `block in save!'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:200:in `transaction'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/transactions.rb:209:in `transaction'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/transactions.rb:323:in `with_transaction_returning_status'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/transactions.rb:275:in `save!'\r\n/Users/parndt/.gem/ruby/2.0.0/gems/protected_attributes-1.0.3/lib/active_record/mass_assignment_security/validations.rb:17:in `create!'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/migration.rb:990:in `record_version_state_after_migrating'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/migration.rb:960:in `block in execute_migration_in_transaction'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/migration.rb:1005:in `block in ddl_transaction'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/transactions.rb:209:in `transaction'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/migration.rb:1005:in `ddl_transaction'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/migration.rb:958:in `execute_migration_in_transaction'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/migration.rb:920:in `block in migrate'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/migration.rb:916:in `each'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/migration.rb:916:in `migrate'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/migration.rb:764:in `up'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/migration.rb:742:in `migrate'\r\n/Users/parndt/.gem/ruby/2.0.0/bundler/gems/rails-918a148522ed/activerecord/lib/active_record/railties/databases.rake:42:in `block (2 levels) in <top (required)>'\r\nTasks: TOP => db:migrate\r\n(See full trace by running task with --trace)\r\n\r\n```\r\n\r\nThere are four migrations that should have run but it gets to the end of the first one and fails to continue.\r\n\r\nNot sure why, I'll go back to using the ref before this started failing for now.\r\n\r\nThanks!  :heart:", "_id": {"$oid": "5237ce49bd3543c151007a1f"}, "html_url": "https://github.com/rails/rails/pull/12188#issuecomment-24486706"}
