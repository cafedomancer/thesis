{"issue_url": "https://api.github.com/repos/rails/rails/issues/7521", "repo": "rails", "body": "@schneems Thanks for your help!\n\n@rafaelfranca:\n\nMy latest commit doesn't add the CHANGELOG entry yet; will fix that soon. \n\nThanks very much for your advice on current_config.  Note that the default definition for the current_config writer method was being used in rake db:test:load_structure.  This is why I originally had a separate method for set_current_config.  Based on your feedback I've folded set_current_config into the current_config writer method. \n- when current_config is called from rake db:test:load_structure, the config is set to 'test', rather than based on environment variables (and then reset back to nil to support any ensuing tasks)\n- when current_config is called elsewhere, the config is set based on environment variables\n\nI have validated this fix by re-running the rake db tasks tests in dbs_test.rb.\n\nLet me know if there's any more changes required?  If not, I'll re-run the test suite and let you know when I am done.\n", "_id": {"$oid": "523de53bbd354364b900b1e5"}, "issue_id": 7521, "url": "https://api.github.com/repos/rails/rails/issues/comments/8440418", "html_url": "https://github.com/rails/rails/pull/7521#issuecomment-8440418", "updated_at": "2012-09-10T22:10:11Z", "user": {"subscriptions_url": "https://api.github.com/users/graceliu/subscriptions", "events_url": "https://api.github.com/users/graceliu/events{/privacy}", "repos_url": "https://api.github.com/users/graceliu/repos", "gists_url": "https://api.github.com/users/graceliu/gists{/gist_id}", "url": "https://api.github.com/users/graceliu", "login": "graceliu", "gravatar_id": "d308241c047f7d688b21835a0d47b369", "html_url": "https://github.com/graceliu", "following_url": "https://api.github.com/users/graceliu/following{/other_user}", "received_events_url": "https://api.github.com/users/graceliu/received_events", "organizations_url": "https://api.github.com/users/graceliu/orgs", "avatar_url": "https://2.gravatar.com/avatar/d308241c047f7d688b21835a0d47b369?d=https%3A%2F%2Fidenticons.github.com%2Fa2e121f8b8eb9a6ccabb2f3bbd5ff51c.png", "starred_url": "https://api.github.com/users/graceliu/starred{/owner}{/repo}", "id": 94903, "followers_url": "https://api.github.com/users/graceliu/followers", "type": "User"}, "created_at": "2012-09-10T22:10:11Z", "id": 8440418, "owner": "rails"}
