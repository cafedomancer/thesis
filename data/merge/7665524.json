{"updated_at": "2012-08-11T10:02:27Z", "repo": "rails", "created_at": "2012-08-11T10:02:27Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/7665524", "id": 7665524, "issue_url": "https://api.github.com/repos/rails/rails/issues/7316", "issue_id": 7316, "user": {"repos_url": "https://api.github.com/users/brainopia/repos", "type": "User", "html_url": "https://github.com/brainopia", "starred_url": "https://api.github.com/users/brainopia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brainopia/subscriptions", "following_url": "https://api.github.com/users/brainopia/following{/other_user}", "gravatar_id": "254513687a01330ba0ae676538de459b", "organizations_url": "https://api.github.com/users/brainopia/orgs", "url": "https://api.github.com/users/brainopia", "gists_url": "https://api.github.com/users/brainopia/gists{/gist_id}", "avatar_url": "https://0.gravatar.com/avatar/254513687a01330ba0ae676538de459b?d=https%3A%2F%2Fidenticons.github.com%2F39461a19e9eddfb385ea76b26521ea48.png", "id": 386, "events_url": "https://api.github.com/users/brainopia/events{/privacy}", "login": "brainopia", "received_events_url": "https://api.github.com/users/brainopia/received_events", "followers_url": "https://api.github.com/users/brainopia/followers"}, "body": "Also I've provided a test which demonstrates that now different stores work with domain :all option (if they inherit from `ActionDispatch::Session::AbstractStore` as they should) https://github.com/rails/rails/pull/7316/files#L2R260.\n\nAnd as I previously wrote the bug is easily reproduced on rails without patch with following commands:\n\n```bash\nrails new foobar\ncd foobar\nrails generate scaffold post\nrake db:sessions:create db:migrate\nsed -i '' \"s/cookie_store.*/active_record_store, key: '_foobar_session', domain: :all/\" config/initializers/session_store.rb\nrails server # open http://localhost:3000/posts\n```\nit will show exception `can't convert Symbol into String (TypeError)`\n\nBut with this patch the exception is prevented and all works as supposed to.\n\nThis all was already discussed with @josevalim that's why he merged the original pull-request into master. All I do in this pull-request is backporting it to 3.2-stable. So I don't see what's the reason to question it if all the tests (including new ones) pass.", "_id": {"$oid": "5237fd49bd3543c15100bb02"}, "html_url": "https://github.com/rails/rails/pull/7316#issuecomment-7665524"}
