{"updated_at": "2011-07-12T08:43:17Z", "repo": "rails", "created_at": "2011-07-12T08:43:17Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/1552797", "id": 1552797, "issue_url": "https://api.github.com/repos/rails/rails/issues/2036", "issue_id": 2036, "user": {"repos_url": "https://api.github.com/users/Bodacious/repos", "type": "User", "html_url": "https://github.com/Bodacious", "starred_url": "https://api.github.com/users/Bodacious/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bodacious/subscriptions", "following_url": "https://api.github.com/users/Bodacious/following{/other_user}", "gravatar_id": "8538bd148e2bc82674009a35eabc8948", "organizations_url": "https://api.github.com/users/Bodacious/orgs", "url": "https://api.github.com/users/Bodacious", "gists_url": "https://api.github.com/users/Bodacious/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/8538bd148e2bc82674009a35eabc8948?d=https%3A%2F%2Fidenticons.github.com%2F99b07ce94a935e5a5f9e8a31297d3140.png", "id": 73998, "events_url": "https://api.github.com/users/Bodacious/events{/privacy}", "login": "Bodacious", "received_events_url": "https://api.github.com/users/Bodacious/received_events", "followers_url": "https://api.github.com/users/Bodacious/followers"}, "body": "As far as I can see (from the comments on BigDecimal#as_json), decimal values need to be written as JSON strings.\r\n\r\n``` ruby\r\n  # A BigDecimal would be naturally represented as a JSON number. Most libraries,\r\n  # however, parse non-integer JSON numbers directly as floats. Clients using\r\n  # those libraries would get in general a wrong number and no way to recover\r\n  # other than manually inspecting the string with the JSON code itself.\r\n```\r\n\r\nIf we change this behaviour, wont it result in invalid values for decimal attributes in situations like:\r\n\r\n``` ruby\r\n@user.to_json # => \"{\\\"username\\\":\\\"bodacious\\\",\\\"decimal_atttibute\\\": -123.456}\"\r\n```\r\n\r\nChecking for double quotes and removing them would work but it's extra effort - As far as I can see, BigDecimals don't need to be encoded to JSON in this case", "_id": {"$oid": "52384934bd3543c1510111ea"}, "html_url": "https://github.com/rails/rails/pull/2036#issuecomment-1552797"}
