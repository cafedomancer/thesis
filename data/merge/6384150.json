{"body": "@drogus (re)opening the module makes sense, but it doesn't seem to work - I get over 100 failing tests (running just test_sqlite3 in ./activerecord), and most are something like this:\n\n    113) Error:\n    test_serialize_should_be_reversible(SerializationTest):\n    NoMethodError: undefined method `backtrace_cleaner' for Rails:Module\n        /Users/pat/Code/ruby/rails/activemodel/lib/active_model/mass_assignment_security/sanitizer.rb:37:in `backtrace'\n        /Users/pat/Code/ruby/rails/activemodel/lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'\n        /Users/pat/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/logger.rb:371:in `add'\n        /Users/pat/.rvm/rubies/ruby-1.9.3-p125/lib/ruby/1.9.1/logger.rb:443:in `warn'\n        /Users/pat/Code/ruby/rails/activemodel/lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'\n        /Users/pat/Code/ruby/rails/activemodel/lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'\n        /Users/pat/Code/ruby/rails/activemodel/lib/active_model/mass_assignment_security.rb:232:in `sanitize_for_mass_assignment'\n        /Users/pat/Code/ruby/rails/activerecord/lib/active_record/attribute_assignment.rb:75:in `assign_attributes'\n        /Users/pat/Code/ruby/rails/activerecord/lib/active_record/attribute_assignment.rb:36:in `attributes='\n        /Users/pat/Code/ruby/rails/activemodel/lib/active_model/serializers/xml.rb:191:in `from_xml'\n        /Users/pat/Code/ruby/rails/activerecord/test/cases/serialization_test.rb:30:in `block in test_serialize_should_be_reversible'\n        /Users/pat/Code/ruby/rails/activerecord/test/cases/serialization_test.rb:28:in `each'\n        /Users/pat/Code/ruby/rails/activerecord/test/cases/serialization_test.rb:28:in `test_serialize_should_be_reversible'\n        /Users/pat/.rvm/gems/ruby-1.9.3-p125/gems/mocha-0.11.4/lib/mocha/integration/mini_test/version_230_to_262.rb:28:in `run'\n        /Users/pat/Code/ruby/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:37:in `block in run'\n        /Users/pat/Code/ruby/rails/activesupport/lib/active_support/callbacks.rb:347:in `_run_callbacks_70224487360180'\n        /Users/pat/Code/ruby/rails/activesupport/lib/active_support/callbacks.rb:75:in `run_callbacks'\n        /Users/pat/Code/ruby/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:36:in `run'\n\nAll I'm doing in the tests I've added that use `Rails` is the following, `module Rails; end`", "url": "https://api.github.com/repos/rails/rails/issues/comments/6384150", "created_at": "2012-06-17T19:53:56Z", "html_url": "https://github.com/rails/rails/pull/6761#issuecomment-6384150", "updated_at": "2012-06-17T19:53:56Z", "repo": "rails", "issue_id": 6761, "user": {"following_url": "https://api.github.com/users/pat/following{/other_user}", "events_url": "https://api.github.com/users/pat/events{/privacy}", "organizations_url": "https://api.github.com/users/pat/orgs", "url": "https://api.github.com/users/pat", "gists_url": "https://api.github.com/users/pat/gists{/gist_id}", "html_url": "https://github.com/pat", "subscriptions_url": "https://api.github.com/users/pat/subscriptions", "avatar_url": "https://2.gravatar.com/avatar/29f82ebe1801087f04de6aaae92e19ea?d=https%3A%2F%2Fidenticons.github.com%2F217f5e7754c92d28fc6835d42f43548d.png", "repos_url": "https://api.github.com/users/pat/repos", "received_events_url": "https://api.github.com/users/pat/received_events", "gravatar_id": "29f82ebe1801087f04de6aaae92e19ea", "starred_url": "https://api.github.com/users/pat/starred{/owner}{/repo}", "login": "pat", "type": "User", "id": 4183, "followers_url": "https://api.github.com/users/pat/followers"}, "owner": "rails", "_id": {"$oid": "52380469bd3543c15100c5c1"}, "id": 6384150, "issue_url": "https://api.github.com/repos/rails/rails/issues/6761"}
