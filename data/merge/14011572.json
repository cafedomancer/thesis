{"updated_at": "2013-02-24T17:11:27Z", "repo": "rails", "created_at": "2013-02-24T17:02:54Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/14011572", "id": 14011572, "issue_url": "https://api.github.com/repos/rails/rails/issues/9371", "issue_id": 9371, "user": {"repos_url": "https://api.github.com/users/benmoss/repos", "type": "User", "html_url": "https://github.com/benmoss", "starred_url": "https://api.github.com/users/benmoss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benmoss/subscriptions", "following_url": "https://api.github.com/users/benmoss/following{/other_user}", "gravatar_id": "6afd97360ecb5443430aad3b6bfd36cd", "organizations_url": "https://api.github.com/users/benmoss/orgs", "url": "https://api.github.com/users/benmoss", "gists_url": "https://api.github.com/users/benmoss/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/6afd97360ecb5443430aad3b6bfd36cd?d=https%3A%2F%2Fidenticons.github.com%2F9cca6fbc05acde9d190846ba775493f8.png", "id": 239754, "events_url": "https://api.github.com/users/benmoss/events{/privacy}", "login": "benmoss", "received_events_url": "https://api.github.com/users/benmoss/received_events", "followers_url": "https://api.github.com/users/benmoss/followers"}, "body": "I experimented with removing the connection instance method from [core](https://github.com/rails/rails/blob/master/activerecord/lib/active_record/core.rb#L328) and these were the only other places in the codebase that seemed to rely on it:\r\n\r\nhttps://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/has_and_belongs_to_many_association.rb#L22\r\nhttps://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/has_and_belongs_to_many_association.rb#L29\r\nhttps://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/has_and_belongs_to_many_association.rb#L44\r\nhttps://github.com/rails/rails/blob/master/activerecord/lib/active_record/locking/optimistic.rb#L89\r\nhttps://github.com/rails/rails/blob/master/activerecord/lib/active_record/locking/optimistic.rb#L120\r\n\r\nIt seems like it only makes sense to try to make the earlier change if I change all these others as well, otherwise it'll only be a matter of time until they likely bite me or someone else. Do you think this is worthwhile? It still seems like it's going to be hard to protect against others introducing new code that relies on it, the only sure-fire way to remove it as a 'reserved method' would be to rename it or remove it entirely, but both of those seem like too big of changes to the AR interface.", "_id": {"$oid": "523d2b58bd354364b900556c"}, "html_url": "https://github.com/rails/rails/pull/9371#issuecomment-14011572"}
