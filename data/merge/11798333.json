{"body": "@jfirebaugh after editing this, I'm not sure why you want to be able to monkeypatch this at all. You can completely resolve your stated use-case by adding a middleware farther out that strips the \"garbage\" header, and then disable the spoof checking using the option that is provided.\r\n\r\nI personally would like to remove the spoof checking, because AFAIK there aren't any proxies that set both Client-Ip and X-Forwarded-For, but I'm sure that's a totally separate PR and discussion. :)", "url": "https://api.github.com/repos/rails/rails/issues/comments/11798333", "created_at": "2013-01-02T01:04:14Z", "html_url": "https://github.com/rails/rails/pull/7980#issuecomment-11798333", "updated_at": "2013-01-02T01:04:14Z", "repo": "rails", "issue_id": 7980, "user": {"following_url": "https://api.github.com/users/indirect/following{/other_user}", "events_url": "https://api.github.com/users/indirect/events{/privacy}", "organizations_url": "https://api.github.com/users/indirect/orgs", "url": "https://api.github.com/users/indirect", "gists_url": "https://api.github.com/users/indirect/gists{/gist_id}", "html_url": "https://github.com/indirect", "subscriptions_url": "https://api.github.com/users/indirect/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/4c3ed917e59156a36212d48155831482?d=https%3A%2F%2Fidenticons.github.com%2F35f4a8d465e6e1edc05f3d8ab658c551.png", "repos_url": "https://api.github.com/users/indirect/repos", "received_events_url": "https://api.github.com/users/indirect/received_events", "gravatar_id": "4c3ed917e59156a36212d48155831482", "starred_url": "https://api.github.com/users/indirect/starred{/owner}{/repo}", "login": "indirect", "type": "User", "id": 78, "followers_url": "https://api.github.com/users/indirect/followers"}, "owner": "rails", "_id": {"$oid": "523db5b8bd354364b90095f1"}, "id": 11798333, "issue_url": "https://api.github.com/repos/rails/rails/issues/7980"}
