{"updated_at": "2013-07-25T21:58:19Z", "repo": "rails", "created_at": "2013-07-25T21:58:19Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/21587859", "id": 21587859, "issue_url": "https://api.github.com/repos/rails/rails/issues/11603", "issue_id": 11603, "user": {"repos_url": "https://api.github.com/users/pftg/repos", "type": "User", "html_url": "https://github.com/pftg", "starred_url": "https://api.github.com/users/pftg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pftg/subscriptions", "following_url": "https://api.github.com/users/pftg/following{/other_user}", "gravatar_id": "712a9cc852c438c0873ef0a98f749f2e", "organizations_url": "https://api.github.com/users/pftg/orgs", "url": "https://api.github.com/users/pftg", "gists_url": "https://api.github.com/users/pftg/gists{/gist_id}", "avatar_url": "https://2.gravatar.com/avatar/712a9cc852c438c0873ef0a98f749f2e?d=https%3A%2F%2Fidenticons.github.com%2F58adcd3cfec4758f40b142a29c054d55.png", "id": 125715, "events_url": "https://api.github.com/users/pftg/events{/privacy}", "login": "pftg", "received_events_url": "https://api.github.com/users/pftg/received_events", "followers_url": "https://api.github.com/users/pftg/followers"}, "body": "Just to get your opinion about to make `separator: nil` behave like `separator: ''`:\r\n\r\n```diff\r\n--- a/actionview/lib/action_view/helpers/text_helper.rb\r\n+++ b/actionview/lib/action_view/helpers/text_helper.rb\r\n@@ -150,7 +150,7 @@ module ActionView\r\n       def excerpt(text, phrase, options = {})\r\n         return unless text && phrase\r\n\r\n-        separator = options.fetch(:separator, \"\")\r\n+        separator = options.fetch(:separator, \"\") || \"\"\r\n         phrase    = Regexp.escape(phrase)\r\n         regex     = /#{phrase}/i\r\n\r\ndiff --git a/actionview/test/template/text_helper_test.rb b/actionview/test/template/text_helper_test.rb\r\nindex bc1b1bb..f3fd369 100644\r\n--- a/actionview/test/template/text_helper_test.rb\r\n+++ b/actionview/test/template/text_helper_test.rb\r\n@@ -314,8 +314,8 @@ class TextHelperTest < ActionView::TestCase\r\n\r\n     options = { :separator => \"\\n\", :radius => 1 }\r\n     assert_equal(\"...very\\nvery long\\nstring\", excerpt(\"my very\\nvery\\nvery long\\nstring\", 'long', options))\r\n-\r\n-    assert excerpt('This is a beautiful morning', 'a', separator: nil)\r\n+    assert_equal excerpt('This is a beautiful morning', 'a'),\r\n+                 excerpt('This is a beautiful morning', 'a', separator: nil)\r\n   end\r\n\r\n   def test_word_wrap\r\n```", "_id": {"$oid": "5237d2c6bd3543c151007ec8"}, "html_url": "https://github.com/rails/rails/pull/11603#issuecomment-21587859"}
