{"body": "I added another commit that dumps the exact migration history into schema.rb. The main advantage is this avoids possible mistakes made by assuming all migrations with a lower version have been run when loading schema.rb. In addition, it preserves name and fingerprint information for the migrations in the history, but won't break if that info is missing. When loading schema.rb, the migrated_at timestamp for the migration is set to the current time, which indicates when the migration was applied on that db instance, instead of on the dev box where the schema.rb was dumped. The database_structure.sql dump's migration history has been updated to include name and fingerprint info as well.\r\n\r\nI put the migrations near the top of the file, but if that's a problem it's easy to move them to the bottom. I did put them in a code block so it's easy to collapse in an editor if there is a long list that is too annoying to scroll over.\r\n\r\nOld schema.rb files are still supported and will continue to operate as before. There is no support for generating old-style files.", "url": "https://api.github.com/repos/rails/rails/issues/comments/10942077", "created_at": "2012-12-03T05:33:28Z", "html_url": "https://github.com/rails/rails/pull/8399#issuecomment-10942077", "updated_at": "2012-12-03T05:33:28Z", "repo": "rails", "issue_id": 8399, "user": {"following_url": "https://api.github.com/users/joshsusser/following{/other_user}", "events_url": "https://api.github.com/users/joshsusser/events{/privacy}", "organizations_url": "https://api.github.com/users/joshsusser/orgs", "url": "https://api.github.com/users/joshsusser", "gists_url": "https://api.github.com/users/joshsusser/gists{/gist_id}", "html_url": "https://github.com/joshsusser", "subscriptions_url": "https://api.github.com/users/joshsusser/subscriptions", "avatar_url": "https://2.gravatar.com/avatar/9f0f89bbd9e1ecfbaab6584e429b7a2f?d=https%3A%2F%2Fidenticons.github.com%2F1c9ac0159c94d8d0cbedc973445af2da.png", "repos_url": "https://api.github.com/users/joshsusser/repos", "received_events_url": "https://api.github.com/users/joshsusser/received_events", "gravatar_id": "9f0f89bbd9e1ecfbaab6584e429b7a2f", "starred_url": "https://api.github.com/users/joshsusser/starred{/owner}{/repo}", "login": "joshsusser", "type": "User", "id": 156, "followers_url": "https://api.github.com/users/joshsusser/followers"}, "owner": "rails", "_id": {"$oid": "5237f39cbd3543c15100a87b"}, "id": 10942077, "issue_url": "https://api.github.com/repos/rails/rails/issues/8399"}
