{"updated_at": "2012-03-27T20:51:38Z", "repo": "rails", "created_at": "2012-03-27T20:50:22Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/4726082", "id": 4726082, "issue_url": "https://api.github.com/repos/rails/rails/issues/5619", "issue_id": 5619, "user": {"repos_url": "https://api.github.com/users/rafaelfranca/repos", "type": "User", "html_url": "https://github.com/rafaelfranca", "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions", "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}", "gravatar_id": "0525b332aafb83307b32d9747a93de03", "organizations_url": "https://api.github.com/users/rafaelfranca/orgs", "url": "https://api.github.com/users/rafaelfranca", "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/0525b332aafb83307b32d9747a93de03?d=https%3A%2F%2Fidenticons.github.com%2F2c7b84fa30f0cea96a90729afe2970a0.png", "id": 47848, "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}", "login": "rafaelfranca", "received_events_url": "https://api.github.com/users/rafaelfranca/received_events", "followers_url": "https://api.github.com/users/rafaelfranca/followers"}, "body": "Hey @jcoleman sorry to make you change your original commit. I did one benchmark and the ternary operator is 50% slower than the hash lookup. You can revert your change to the original one.\r\n\r\nReally really sorry.\r\n\r\nHere the benchmark:\r\n\r\n```ruby\r\nrequire 'benchmark'\r\n\r\nh = { :a => '\\n' }\r\n\r\nBenchmark.bm(10) do |x|\r\n  x.report('if')   { 10_000_000.times { :a == :a ? '\\n' : nil } }\r\n  x.report('hash') { 10_000_000.times { h[:a] } }\r\nend\r\n```\r\n\r\n```\r\n                 user     system      total        real\r\nif           2.060000   0.010000   2.070000 (  2.070319)\r\nhash         1.100000   0.000000   1.100000 (  1.106086)\r\n\r\n                 user     system      total        real\r\nif           2.110000   0.000000   2.110000 (  2.115755)\r\nhash         1.040000   0.000000   1.040000 (  1.047637)\r\n\r\n                 user     system      total        real\r\nif           2.770000   0.000000   2.770000 (  2.783767)\r\nhash         1.020000   0.010000   1.030000 (  1.017420)\r\n```", "_id": {"$oid": "5238151dbd3543c15100dca4"}, "html_url": "https://github.com/rails/rails/pull/5619#issuecomment-4726082"}
