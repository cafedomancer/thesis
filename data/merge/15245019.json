{"body": "Aaron, today fixtures are not loaded when you do \"ruby -Itest test/unit/some_test.rb\". \"rails test test/unit/some_test.rb\" would mimic that. The reason is that running a single test requires a quick feedback loop and loading all fixtures is slow, so reloading all the fixtures every time you run an isolated test where the fixtures are unlikely to change would be a poor trade-off. We'd still allow you to specify that fixtures should be reloaded, like \"rails test test/unit/some_test.rb --reload-fixtures\".\r\n\r\n\"rails test models\" would work just like \"rake test:models\" do today, which includes reloading the fixtures. The reason here is that the trade-off is different. Running an entire battery of tests take a fair while in most cases, so it's not an undue tax to reload fixtures before doing so.\r\n\r\nIn other words, \"rails test\" operates just like rake + one-off ruby running does today. It mimics those behaviors to fit the trade-offs that are inherent in either operation.\r\n\r\nI don't see how any of these changes break existing code. Could you explain further?\r\n\r\n\r\nOn Mar 20, 2013, at 6:20 PM, Aaron Patterson <notifications@github.com> wrote:\r\n\r\n> Just a couple more thoughts on this. When you do something like this:\r\n> \r\n> $ rails generate scaffold LineItems product:references cart:belongs_to\r\n> \r\n> Rails generates a controller test that depends on fixtures, but that file cannot stand on it's own. It depends on fixtures, but does not load them. Someone writing their own controller test can choose whether or not to load fixtures, but as long as we're generating a controller test that depends on fixtures, shouldn't that file be able to run on it's own?\r\n> \r\n> \u2014\r\n> Reply to this email directly or view it on GitHub.\r\n> ", "url": "https://api.github.com/repos/rails/rails/issues/comments/15245019", "created_at": "2013-03-21T15:24:49Z", "html_url": "https://github.com/rails/rails/pull/9080#issuecomment-15245019", "updated_at": "2013-03-21T15:24:49Z", "repo": "rails", "issue_id": 9080, "user": {"following_url": "https://api.github.com/users/dhh/following{/other_user}", "events_url": "https://api.github.com/users/dhh/events{/privacy}", "organizations_url": "https://api.github.com/users/dhh/orgs", "url": "https://api.github.com/users/dhh", "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}", "html_url": "https://github.com/dhh", "subscriptions_url": "https://api.github.com/users/dhh/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/ed9635566b34ade32274f510f0f9a6d2?d=https%3A%2F%2Fidenticons.github.com%2Fcdcb2f5c7b071143529ef7f2705dfbc4.png", "repos_url": "https://api.github.com/users/dhh/repos", "received_events_url": "https://api.github.com/users/dhh/received_events", "gravatar_id": "ed9635566b34ade32274f510f0f9a6d2", "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}", "login": "dhh", "type": "User", "id": 2741, "followers_url": "https://api.github.com/users/dhh/followers"}, "owner": "rails", "_id": {"$oid": "523d5a22bd354364b9006095"}, "id": 15245019, "issue_url": "https://api.github.com/repos/rails/rails/issues/9080"}
