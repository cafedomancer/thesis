{"updated_at": "2012-10-17T15:36:00Z", "repo": "rails", "created_at": "2012-10-17T15:36:00Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/9531865", "id": 9531865, "issue_url": "https://api.github.com/repos/rails/rails/issues/7971", "issue_id": 7971, "user": {"repos_url": "https://api.github.com/users/sushantmittal/repos", "type": "User", "html_url": "https://github.com/sushantmittal", "starred_url": "https://api.github.com/users/sushantmittal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sushantmittal/subscriptions", "following_url": "https://api.github.com/users/sushantmittal/following{/other_user}", "gravatar_id": "7e58dc46d26482187c0c2f7b6254ea54", "organizations_url": "https://api.github.com/users/sushantmittal/orgs", "url": "https://api.github.com/users/sushantmittal", "gists_url": "https://api.github.com/users/sushantmittal/gists{/gist_id}", "avatar_url": "https://0.gravatar.com/avatar/7e58dc46d26482187c0c2f7b6254ea54?d=https%3A%2F%2Fidenticons.github.com%2Fd5235d40ea367d17273c53a4dd8c8264.png", "id": 900150, "events_url": "https://api.github.com/users/sushantmittal/events{/privacy}", "login": "sushantmittal", "received_events_url": "https://api.github.com/users/sushantmittal/received_events", "followers_url": "https://api.github.com/users/sushantmittal/followers"}, "body": "Here, you have replaced object of HashWithIndifferentAccess with simple hash, therefore problem is occurring.\r\n\r\nIf you will try following use cases then everything works fine as expected.\r\n\r\n# Case 1\r\n\r\n\r\nhash = HashWithIndifferentAccess.new(a: 42)\r\nhash.key?('a')      #=> true\r\nhash.replace(HashWithIndifferentAccess.new(b: 12)) #=> {\"b\"=>12}\r\nhash.key?('b')      #=> true\r\nhash.key?(:b)       #=> true\r\n\r\n\r\n# Case 2\r\n\r\nhash = { a: 42 }\r\nhash.key?('a')      #=> false\r\nhash.key?(:a)      #=> true\r\nhash.replace(b: 12) #=> { :b => 12}\r\nhash.key?('b')      #=> false\r\nhash.key?(:b)       #=> true\r\n\r\n", "_id": {"$oid": "523dba58bd354364b90096cf"}, "html_url": "https://github.com/rails/rails/pull/7971#issuecomment-9531865"}
