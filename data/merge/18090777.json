{"updated_at": "2013-05-17T23:24:40Z", "repo": "rails", "created_at": "2013-05-17T23:23:24Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/18090777", "id": 18090777, "issue_url": "https://api.github.com/repos/rails/rails/issues/9704", "issue_id": 9704, "user": {"repos_url": "https://api.github.com/users/josevalim/repos", "type": "User", "html_url": "https://github.com/josevalim", "starred_url": "https://api.github.com/users/josevalim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josevalim/subscriptions", "following_url": "https://api.github.com/users/josevalim/following{/other_user}", "gravatar_id": "e837f6b7fd146ab16ed3d663476c063e", "organizations_url": "https://api.github.com/users/josevalim/orgs", "url": "https://api.github.com/users/josevalim", "gists_url": "https://api.github.com/users/josevalim/gists{/gist_id}", "avatar_url": "https://2.gravatar.com/avatar/e837f6b7fd146ab16ed3d663476c063e?d=https%3A%2F%2Fidenticons.github.com%2Fe20b21ae6508f22fc189c60a0880d0b8.png", "id": 9582, "events_url": "https://api.github.com/users/josevalim/events{/privacy}", "login": "josevalim", "received_events_url": "https://api.github.com/users/josevalim/received_events", "followers_url": "https://api.github.com/users/josevalim/followers"}, "body": "The scope option would simply set that all the routes defined inside a given scope block should not raise. Something like:\r\n\r\n    scope :dont_raise_on_name_conflict => true do\r\n      # routes generated by devise come here\r\n    end\r\n\r\n> Have you considered adding a configuration option in Devise so the urls could be configured from the start instead of overwritten?\r\n\r\nThis wouldn't work. The routes that come first have higher preference and this would effectively give higher preference to Devise routes. Note that a duplicate route doesn't not cause conflicts in the router (again, inconsistent).\r\n\r\n> Another option might be for Devise to define it's routes after the host app, and skip routes that have already been defined?\r\n\r\nWe already define the routes after the host app but today there is no official way of querying the router to check if a name was already defined or not. This would be an ok solution.\r\n\r\n> Please consider testing the difference between Rails 3 and 4 as I explain in the upgrade guide but with routes defined by an engine.\r\n\r\nEverything seems to be working fine here.\r\n\r\n> Finally, please keep in mind that if we revert this change people are likely to be confused (as I was) about how clashing named routes affect each other -- and that just means more github issues for everyone \r\n\r\nBy breaking valid applications out there today we are just making things worse. Even more if we consider that this breaking change happened from Journey 1.0.3 -> 1.0.4 and that [latest Rails 3.2.x requires Journey 1.0.4](https://github.com/rails/rails/blob/3-2-stable/actionpack/actionpack.gemspec#L25). The majority of people who will likely face this issue, will do so **before** the Rails 4 update.", "_id": {"$oid": "523d10fbbd354364b90046ad"}, "html_url": "https://github.com/rails/rails/pull/9704#issuecomment-18090777"}
