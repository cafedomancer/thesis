{"updated_at": "2011-09-25T00:29:39Z", "repo": "rails", "created_at": "2011-09-25T00:26:05Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/2188886", "id": 2188886, "issue_url": "https://api.github.com/repos/rails/rails/issues/2246", "issue_id": 2246, "user": {"repos_url": "https://api.github.com/users/guilleiguaran/repos", "type": "User", "html_url": "https://github.com/guilleiguaran", "starred_url": "https://api.github.com/users/guilleiguaran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guilleiguaran/subscriptions", "following_url": "https://api.github.com/users/guilleiguaran/following{/other_user}", "gravatar_id": "73d57855a3bfe5c534596197a895ab6e", "organizations_url": "https://api.github.com/users/guilleiguaran/orgs", "url": "https://api.github.com/users/guilleiguaran", "gists_url": "https://api.github.com/users/guilleiguaran/gists{/gist_id}", "avatar_url": "https://2.gravatar.com/avatar/73d57855a3bfe5c534596197a895ab6e?d=https%3A%2F%2Fidenticons.github.com%2Ffa159acecc4c559601c9a2fc35c75213.png", "id": 160941, "events_url": "https://api.github.com/users/guilleiguaran/events{/privacy}", "login": "guilleiguaran", "received_events_url": "https://api.github.com/users/guilleiguaran/received_events", "followers_url": "https://api.github.com/users/guilleiguaran/followers"}, "body": "Now that 3.1 was released, I'm back to this. I rebase it and move methods to the Compressors module:\r\n\r\n```ruby\r\n# Register compressors\r\nSprockets::Compressors.register_js_compressor(:closure, Closure::Compiler)\r\nSprockets::Compressors.register_css_compressor(:yui, YUI::CssCompressor)\r\n\r\n# Register a compressors and set as default for fallbacks\r\nSprockets::Compressors.register_default_js_compressor(:uglifier, Uglifier, :default => true)\r\n\r\n# Load compressors constants only when are needed\r\nSprockets::Compressors.register_js_compressor(:uglifier, 'Uglifier', {:default => true, :require => 'uglifier'})\r\nSprockets::Compressors.register_css_compressor(:yui, 'YUI::CssCompressor', :require => 'yui/compressor')\r\n\r\n# Ask for registered compressors\r\nSprockets::Compressors.registered_css_compressor(config.assets.css_compressor)\r\nSprockets::Compressors.registered_js_compressor(:uglifier)\r\nSprockets::Compressors.registered_js_compressor(:unexistent_compressor)\r\n```", "_id": {"$oid": "52384600bd3543c151010e80"}, "html_url": "https://github.com/rails/rails/pull/2246#issuecomment-2188886"}
