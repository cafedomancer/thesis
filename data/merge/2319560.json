{"updated_at": "2011-10-07T09:36:28Z", "repo": "rails", "created_at": "2011-10-07T09:36:28Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/2319560", "id": 2319560, "issue_url": "https://api.github.com/repos/rails/rails/issues/3225", "issue_id": 3225, "user": {"repos_url": "https://api.github.com/users/mjtko/repos", "type": "User", "html_url": "https://github.com/mjtko", "starred_url": "https://api.github.com/users/mjtko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjtko/subscriptions", "following_url": "https://api.github.com/users/mjtko/following{/other_user}", "gravatar_id": "be9f8a7e49b430ac89efe1bc8aa1026d", "organizations_url": "https://api.github.com/users/mjtko/orgs", "url": "https://api.github.com/users/mjtko", "gists_url": "https://api.github.com/users/mjtko/gists{/gist_id}", "avatar_url": "https://0.gravatar.com/avatar/be9f8a7e49b430ac89efe1bc8aa1026d?d=https%3A%2F%2Fidenticons.github.com%2F88d16337f620f14a9d05a6b5d459802c.png", "id": 206834, "events_url": "https://api.github.com/users/mjtko/events{/privacy}", "login": "mjtko", "received_events_url": "https://api.github.com/users/mjtko/received_events", "followers_url": "https://api.github.com/users/mjtko/followers"}, "body": "> >Possibly, but you'd have to dig into the sprockets code base (not the `StaticCompiler` task helper used by the assets rake task) to disable the caching mechanism during compilation or something.\r\n>\r\n> This doesn't really sound like my cup of tea. How do you think the sprocket guys would feel about a request to expose an option?\r\n\r\nI'm pretty sure it could be done. /cc @josh ...Any thoughts?\r\n\r\n> Would it be possible to manually load the production environment config to feed it into sprockets? I persoanlly have no idea what `RAILS_GROUPS` is, so I'll look into this.\r\n\r\nThe issue is that Rails must be initialized correctly with the correct bundler groups and initializers having fired.  That isn't the default behaviour - Rails will default to `development` initialization.  The reinvocation ensures that the default behaviour for asset compilation is sensible (ie. `production` environment and having loaded the `assets` bundle group).\r\n\r\n> Personally I would simply expose a rake task `assets:precompile:nondigest` so people needing this can run manually.\r\n\r\nThat task already exists, as does its compliment `assets:precompile:primary`.  My opinion is that `assets:precompile` should provide the most coverage of all use cases, which is why it includes the nondigest compilation by default.\r\n\r\nPerhaps adding more documentation to the assets guide about the various options is the way forward here. :)\r\n", "_id": {"$oid": "52383942bd3543c1510100a4"}, "html_url": "https://github.com/rails/rails/pull/3225#issuecomment-2319560"}
