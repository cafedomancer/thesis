{"body": "I buy all that. So the next question is timing. How quickly can we speed up rake test? In time for 4.0? If not, is it worth shipping \"rails test\" in the mean time?\r\n\r\nI would really like to have fast tests for 4.0.\r\n\r\n\r\nOn Mar 25, 2013, at 10:44 AM, Aaron Patterson <notifications@github.com> wrote:\r\n\r\n> @dhh these seem like fine requirements. We can eventually make rake test speed equal rails test speed and the rake tasks should work fine with things like spring. The important thing for me is that we have a place to hook setup / teardown code.\r\n> \r\n> rails test could be implemented in terms of Rake, which would give us the same standard hooks.\r\n> \r\n> Quick proof that rake test does not have to be slow:\r\n> \r\n> $ time bin/rails test\r\n> .......\r\n> \r\n> Finished tests in 0.202827s, 34.5122 tests/s, 64.0940 assertions/s.\r\n> \r\n> 7 tests, 13 assertions, 0 failures, 0 errors, 0 skips\r\n> \r\n> real    0m2.586s\r\n> user    0m2.231s\r\n> sys 0m0.325s\r\n> $ time RAILS_ENV=test rake aarontest\r\n> Run options: --seed 11\r\n> \r\n> # Running tests:\r\n> \r\n> .......\r\n> \r\n> Finished tests in 0.177000s, 39.5480 tests/s, 73.4463 assertions/s.\r\n> \r\n> 7 tests, 13 assertions, 0 failures, 0 errors, 0 skips\r\n> \r\n> real    0m1.960s\r\n> user    0m1.723s\r\n> sys 0m0.224s\r\n> $\r\n> \r\n> Here's the definition of aarontest:\r\n> \r\n> task :aarontest do\r\n> \r\n>   \r\n> require 'minitest/autorun'\r\n> \r\n>   \r\n> $: << '.'\r\n> \r\n>   \r\n> $: << 'test'\r\n> \r\n>   \r\n> Dir['test/**/*_test.rb'].each { |x| require x }\r\n> end\r\n> \u2014\r\n> Reply to this email directly or view it on GitHub.\r\n> ", "url": "https://api.github.com/repos/rails/rails/issues/comments/15421908", "created_at": "2013-03-25T20:15:19Z", "html_url": "https://github.com/rails/rails/pull/9080#issuecomment-15421908", "updated_at": "2013-03-25T20:15:19Z", "repo": "rails", "issue_id": 9080, "user": {"following_url": "https://api.github.com/users/dhh/following{/other_user}", "events_url": "https://api.github.com/users/dhh/events{/privacy}", "organizations_url": "https://api.github.com/users/dhh/orgs", "url": "https://api.github.com/users/dhh", "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}", "html_url": "https://github.com/dhh", "subscriptions_url": "https://api.github.com/users/dhh/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/ed9635566b34ade32274f510f0f9a6d2?d=https%3A%2F%2Fidenticons.github.com%2Fcdcb2f5c7b071143529ef7f2705dfbc4.png", "repos_url": "https://api.github.com/users/dhh/repos", "received_events_url": "https://api.github.com/users/dhh/received_events", "gravatar_id": "ed9635566b34ade32274f510f0f9a6d2", "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}", "login": "dhh", "type": "User", "id": 2741, "followers_url": "https://api.github.com/users/dhh/followers"}, "owner": "rails", "_id": {"$oid": "523d5a22bd354364b90060a4"}, "id": 15421908, "issue_url": "https://api.github.com/repos/rails/rails/issues/9080"}
