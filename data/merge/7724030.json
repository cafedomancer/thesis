{"body": "I've mostly used this feature in situations when I needed to change the type of the model and persist it, not just masquerade, and more often it's from ancestor to subclass or sibling to sibling. Currently it doesn't make it easy or obvious, see avit@af1d680 for a test example. I've found that only `update_attribute` works reliably for changing the type on persisted records after using `becomes`, but it feels like a backdoor since it skips validation and it's easy to screw it up, e.g.\n\n```ruby\ninstance.becomes(SwirlyThing)  # must pass a const\ninstance.update_attribute(:type, SwirlyThing)  # wrong: must pass a string\n# type column is now yaml-serialized, \"--- !ruby/class 'SwirlyThing'\\n\", hooray.\n```\n\nSo, :+1: for keeping something like `becomes!` for this.\n\nThe other common use case is posing as another (generic) class in views. This is mainly to satisfy all the conventions for url helpers, etc. but is lying about the model's class really the right solution for that?", "url": "https://api.github.com/repos/rails/rails/issues/comments/7724030", "created_at": "2012-08-14T12:20:22Z", "html_url": "https://github.com/rails/rails/pull/3023#issuecomment-7724030", "updated_at": "2012-08-14T12:20:22Z", "repo": "rails", "issue_id": 3023, "user": {"following_url": "https://api.github.com/users/avit/following{/other_user}", "events_url": "https://api.github.com/users/avit/events{/privacy}", "organizations_url": "https://api.github.com/users/avit/orgs", "url": "https://api.github.com/users/avit", "gists_url": "https://api.github.com/users/avit/gists{/gist_id}", "html_url": "https://github.com/avit", "subscriptions_url": "https://api.github.com/users/avit/subscriptions", "avatar_url": "https://2.gravatar.com/avatar/f0987c97234fa9c6b26f796bdbdab037?d=https%3A%2F%2Fidenticons.github.com%2F97e48472142cfdd1cd5d5b5ca6831cf4.png", "repos_url": "https://api.github.com/users/avit/repos", "received_events_url": "https://api.github.com/users/avit/received_events", "gravatar_id": "f0987c97234fa9c6b26f796bdbdab037", "starred_url": "https://api.github.com/users/avit/starred{/owner}{/repo}", "login": "avit", "type": "User", "id": 4278, "followers_url": "https://api.github.com/users/avit/followers"}, "owner": "rails", "_id": {"$oid": "523f90c1bd354364b9018db2"}, "id": 7724030, "issue_url": "https://api.github.com/repos/rails/rails/issues/3023"}
