{"updated_at": "2012-11-16T14:54:10Z", "repo": "rails", "created_at": "2012-11-16T14:50:59Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/10449212", "id": 10449212, "issue_url": "https://api.github.com/repos/rails/rails/issues/8112", "issue_id": 8112, "user": {"repos_url": "https://api.github.com/users/emboss/repos", "type": "User", "html_url": "https://github.com/emboss", "starred_url": "https://api.github.com/users/emboss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emboss/subscriptions", "following_url": "https://api.github.com/users/emboss/following{/other_user}", "gravatar_id": "ada56d152c1abe0eba65a5ff62ed5387", "organizations_url": "https://api.github.com/users/emboss/orgs", "url": "https://api.github.com/users/emboss", "gists_url": "https://api.github.com/users/emboss/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/ada56d152c1abe0eba65a5ff62ed5387?d=https%3A%2F%2Fidenticons.github.com%2F3e0ccfd5b27c3147b2a9e7d02f862c91.png", "id": 486012, "events_url": "https://api.github.com/users/emboss/events{/privacy}", "login": "emboss", "received_events_url": "https://api.github.com/users/emboss/received_events", "followers_url": "https://api.github.com/users/emboss/followers"}, "body": "a) How much of a pain would it be if we switched the [key generator](https://github.com/rails/rails/blob/d63783983f8c03d5c624938081615579dcc753f7/activesupport/lib/active_support/key_generator.rb#L21) from PBKDF2-HMAC-SHA-1 to HMAC-SHA-256? \r\n\r\nThe reason I'm asking is because using HMAC-SHA-1 in the key generator limits the overall security to the 160 bits output of SHA-1 there. Since we generally use longer keys (for example 32 byte keys for the default AES-256-CBC in the MessageEncryptor) for encryption, it would be nice if we could use something that gives us a security margin of 32 bytes = 256 bits as well, like SHA-256 does. The same argument can be made for [MessageVerifier](https://github.com/rails/rails/blob/d63783983f8c03d5c624938081615579dcc753f7/activesupport/lib/active_support/message_verifier.rb#L31). \r\n\r\nIt would be nice if the security parameters add up - but I know that especially PBKDF2-HMAC-SHA-256 (using [PKCS5::pbkdf2_hmac](http://www.ruby-doc.org/stdlib-2.0/libdoc/openssl/rdoc/OpenSSL/PKCS5.html)) can be a bit of a pain, a lot of people would probably have to upgrade their (native) OpenSSL library to make it work?\r\n\r\nb) How do you feel about warning or raising an error if user-provided salts are less than eight characters long (the PBKDF#2 recommendation for minimum salt length)? Kudos for adding the possibility to provide your own salts from a professing tinfoil hat ;)", "_id": {"$oid": "5237f5e3bd3543c15100ad1a"}, "html_url": "https://github.com/rails/rails/pull/8112#issuecomment-10449212"}
