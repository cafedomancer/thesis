{"updated_at": "2013-01-23T17:20:22Z", "repo": "rails", "created_at": "2013-01-23T17:20:22Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/12610813", "id": 12610813, "issue_url": "https://api.github.com/repos/rails/rails/issues/9041", "issue_id": 9041, "user": {"repos_url": "https://api.github.com/users/sodabrew/repos", "type": "User", "html_url": "https://github.com/sodabrew", "starred_url": "https://api.github.com/users/sodabrew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sodabrew/subscriptions", "following_url": "https://api.github.com/users/sodabrew/following{/other_user}", "gravatar_id": "daa42e1741f84c74ec3e6160ea6e5e11", "organizations_url": "https://api.github.com/users/sodabrew/orgs", "url": "https://api.github.com/users/sodabrew", "gists_url": "https://api.github.com/users/sodabrew/gists{/gist_id}", "avatar_url": "https://0.gravatar.com/avatar/daa42e1741f84c74ec3e6160ea6e5e11?d=https%3A%2F%2Fidenticons.github.com%2F44ccfe397ecb78a8dc09d6e524c1322d.png", "id": 39406, "events_url": "https://api.github.com/users/sodabrew/events{/privacy}", "login": "sodabrew", "received_events_url": "https://api.github.com/users/sodabrew/received_events", "followers_url": "https://api.github.com/users/sodabrew/followers"}, "body": "Been thinking about it all morning! Actually I might suggest moving the fix to the DATABASE_URL parsing function, and having it behave a little more like YAML: if one of the \"query arguments\" is all numeric, then cast it to a numeric type. That'd be more consistent through the system. Given these inputs, we get different outputs right now:\r\n\r\n```yaml\r\ntest:\r\n  adapter: sqlite3\r\n  database: test_db.sqlite3\r\n  timeout: 500\r\n  pool: 5\r\n```\r\nbecomes\r\n```ruby\r\n{\"adapter\"=>\"sqlite3\",\r\n \"timeout\"=>500,\r\n \"database\"=>\"db/test.sqlite3\",\r\n \"host\"=>\"localhost\",\r\n \"pool\"=>5}\r\n```\r\nbut with a DATABASE_URL, all of the arguments become strings:\r\n```ruby\r\nDATABASE_URL=\"sqlite3://localhost/db/test.sqlite3?timeout=500&pool=5\"\r\n{\"adapter\"=>\"sqlite3\",\r\n \"timeout\"=>\"500\",\r\n \"database\"=>\"db/test.sqlite3\",\r\n \"host\"=>\"localhost\",\r\n \"pool\"=>\"5\"}\r\n```", "_id": {"$oid": "523d5ca6bd354364b9006226"}, "html_url": "https://github.com/rails/rails/pull/9041#issuecomment-12610813"}
