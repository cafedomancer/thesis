{"issue_url": "https://api.github.com/repos/rails/rails/issues/9041", "repo": "rails", "body": "Been thinking about it all morning! Actually I might suggest moving the fix to the DATABASE_URL parsing function, and having it behave a little more like YAML: if one of the \"query arguments\" is all numeric, then cast it to a numeric type. That'd be more consistent through the system. Given these inputs, we get different outputs right now:\r\n\r\n```yaml\r\ntest:\r\n  adapter: sqlite3\r\n  database: test_db.sqlite3\r\n  timeout: 500\r\n  pool: 5\r\n```\r\nbecomes\r\n```ruby\r\n{\"adapter\"=>\"sqlite3\",\r\n \"timeout\"=>500,\r\n \"database\"=>\"db/test.sqlite3\",\r\n \"host\"=>\"localhost\",\r\n \"pool\"=>5}\r\n```\r\nbut with a DATABASE_URL, all of the arguments become strings:\r\n```ruby\r\nDATABASE_URL=\"sqlite3://localhost/db/test.sqlite3?timeout=500&pool=5\"\r\n{\"adapter\"=>\"sqlite3\",\r\n \"timeout\"=>\"500\",\r\n \"database\"=>\"db/test.sqlite3\",\r\n \"host\"=>\"localhost\",\r\n \"pool\"=>\"5\"}\r\n```", "_id": {"$oid": "523d5ca6bd354364b9006226"}, "issue_id": 9041, "url": "https://api.github.com/repos/rails/rails/issues/comments/12610813", "html_url": "https://github.com/rails/rails/pull/9041#issuecomment-12610813", "updated_at": "2013-01-23T17:20:22Z", "user": {"subscriptions_url": "https://api.github.com/users/sodabrew/subscriptions", "events_url": "https://api.github.com/users/sodabrew/events{/privacy}", "repos_url": "https://api.github.com/users/sodabrew/repos", "gists_url": "https://api.github.com/users/sodabrew/gists{/gist_id}", "url": "https://api.github.com/users/sodabrew", "login": "sodabrew", "gravatar_id": "daa42e1741f84c74ec3e6160ea6e5e11", "html_url": "https://github.com/sodabrew", "following_url": "https://api.github.com/users/sodabrew/following{/other_user}", "received_events_url": "https://api.github.com/users/sodabrew/received_events", "organizations_url": "https://api.github.com/users/sodabrew/orgs", "avatar_url": "https://0.gravatar.com/avatar/daa42e1741f84c74ec3e6160ea6e5e11?d=https%3A%2F%2Fidenticons.github.com%2F44ccfe397ecb78a8dc09d6e524c1322d.png", "starred_url": "https://api.github.com/users/sodabrew/starred{/owner}{/repo}", "id": 39406, "followers_url": "https://api.github.com/users/sodabrew/followers", "type": "User"}, "created_at": "2013-01-23T17:20:22Z", "id": 12610813, "owner": "rails"}
