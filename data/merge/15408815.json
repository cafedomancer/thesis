{"issue_url": "https://api.github.com/repos/rails/rails/issues/9080", "repo": "rails", "body": "@dhh these seem like fine requirements.  We can eventually make `rake test` speed equal `rails test` speed and the rake tasks should work fine with things like spring.  The important thing for me is that we have a place to hook setup / teardown code.\r\n\r\n`rails test` could be implemented in terms of Rake, which would give us the same standard hooks.\r\n\r\nQuick proof that `rake test` does not have to be slow:\r\n\r\n```\r\n$ time bin/rails test\r\n.......\r\n\r\nFinished tests in 0.202827s, 34.5122 tests/s, 64.0940 assertions/s.\r\n\r\n7 tests, 13 assertions, 0 failures, 0 errors, 0 skips\r\n\r\nreal\t0m2.586s\r\nuser\t0m2.231s\r\nsys\t0m0.325s\r\n$ time RAILS_ENV=test rake aarontest\r\nRun options: --seed 11\r\n\r\n# Running tests:\r\n\r\n.......\r\n\r\nFinished tests in 0.177000s, 39.5480 tests/s, 73.4463 assertions/s.\r\n\r\n7 tests, 13 assertions, 0 failures, 0 errors, 0 skips\r\n\r\nreal\t0m1.960s\r\nuser\t0m1.723s\r\nsys\t0m0.224s\r\n$\r\n```\r\n\r\nHere's the definition of `aarontest`:\r\n\r\n```ruby\r\ntask :aarontest do\r\n  require 'minitest/autorun'\r\n  $: << '.'\r\n  $: << 'test'\r\n  Dir['test/**/*_test.rb'].each { |x| require x }\r\nend\r\n```", "_id": {"$oid": "523d5a22bd354364b90060a3"}, "issue_id": 9080, "url": "https://api.github.com/repos/rails/rails/issues/comments/15408815", "html_url": "https://github.com/rails/rails/pull/9080#issuecomment-15408815", "updated_at": "2013-03-25T17:43:58Z", "user": {"subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions", "events_url": "https://api.github.com/users/tenderlove/events{/privacy}", "repos_url": "https://api.github.com/users/tenderlove/repos", "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}", "url": "https://api.github.com/users/tenderlove", "login": "tenderlove", "gravatar_id": "f29327647a9cff5c69618bae420792ea", "html_url": "https://github.com/tenderlove", "following_url": "https://api.github.com/users/tenderlove/following{/other_user}", "received_events_url": "https://api.github.com/users/tenderlove/received_events", "organizations_url": "https://api.github.com/users/tenderlove/orgs", "avatar_url": "https://1.gravatar.com/avatar/f29327647a9cff5c69618bae420792ea?d=https%3A%2F%2Fidenticons.github.com%2F7c78335a8924215ea5c22fda1aac7b75.png", "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}", "id": 3124, "followers_url": "https://api.github.com/users/tenderlove/followers", "type": "User"}, "created_at": "2013-03-25T17:43:58Z", "id": 15408815, "owner": "rails"}
