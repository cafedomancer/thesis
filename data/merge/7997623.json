{"updated_at": "2012-08-24T10:16:43Z", "repo": "rails", "created_at": "2012-08-24T10:16:43Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/7997623", "id": 7997623, "issue_url": "https://api.github.com/repos/rails/rails/issues/7439", "issue_id": 7439, "user": {"repos_url": "https://api.github.com/users/pixeltrix/repos", "type": "User", "html_url": "https://github.com/pixeltrix", "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions", "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}", "gravatar_id": "b14001f2b40640dd6cb63f0e8f1f4869", "organizations_url": "https://api.github.com/users/pixeltrix/orgs", "url": "https://api.github.com/users/pixeltrix", "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}", "avatar_url": "https://0.gravatar.com/avatar/b14001f2b40640dd6cb63f0e8f1f4869?d=https%3A%2F%2Fidenticons.github.com%2F7cb36e23529e4de4c41460940cc85e6e.png", "id": 6321, "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}", "login": "pixeltrix", "received_events_url": "https://api.github.com/users/pixeltrix/received_events", "followers_url": "https://api.github.com/users/pixeltrix/followers"}, "body": "There was a reason it returned a string - calling `to_d` on a `Fixnum` in Ruby 1.8 would give a  `NoMethodError`. This is no longer the case in Ruby 1.9 so it's probably okay to change.\n\nThe relevant Lighthouse tickets are [1066][1] and [4633][2] - to quote myself from [1066][1]:\n\n> The problem with type casting to float for decimal columns and then back to decimal is that you may introduce floating point precision errors. My view would be that if we are doing a straightforward sum on a column then typecast to that column's type otherwise return a string and leave it to the developer to cast to whatever they want. This would also apply to average as well.\n\n[1]: https://rails.lighthouseapp.com/projects/8994/tickets/1066\n[2]: https://rails.lighthouseapp.com/projects/8994/tickets/4633", "_id": {"$oid": "5237fb92bd3543c15100b817"}, "html_url": "https://github.com/rails/rails/pull/7439#issuecomment-7997623"}
