{"issue_url": "https://api.github.com/repos/rails/rails/issues/4911", "repo": "rails", "body": "Just ran into this issue on 3.2.11 and ended up overriding the constant to 223. I probably won't submit a pull request to change it in master because 228 should be good enough for most cases, and because we should find a more robust solution as @tenderlove suggests. Maybe catching the ENAMETOOLONG and retrying with a shorter max length, but that may break existing keys.\r\n\r\nThat said, I'll at least document why I went with 223 instead of 228:\r\nTempfile adds `\"#{t}-#{$$}-#{rand(0x100000000).to_s(36)}-#{n}.lock\"` to the end of the filename.\r\n`t` is the date; always 8 chars.\r\n`$$` is the pid; on linux this defaults to a max of 32768, but can be configured to a max of 4.2million or 7 chars.\r\n`rand.to_s` base 36 encode of a 32bit number; max of 7 chars\r\n`n` is the retry count; should never happen, but lets say it could get up to 2 digits before the universe explodes.\r\nThat adds up to 32 characters, and 255 - 32 = 223. \r\n\r\nSo, 228 should work fine in most real world cases where the max pid is 5 digits long and there are no retries and the max filename length is 255.", "_id": {"$oid": "52381f93bd3543c15100e80f"}, "issue_id": 4911, "url": "https://api.github.com/repos/rails/rails/issues/comments/15665329", "html_url": "https://github.com/rails/rails/pull/4911#issuecomment-15665329", "updated_at": "2013-03-29T23:24:51Z", "user": {"subscriptions_url": "https://api.github.com/users/chuckbjones/subscriptions", "events_url": "https://api.github.com/users/chuckbjones/events{/privacy}", "repos_url": "https://api.github.com/users/chuckbjones/repos", "gists_url": "https://api.github.com/users/chuckbjones/gists{/gist_id}", "url": "https://api.github.com/users/chuckbjones", "login": "chuckbjones", "gravatar_id": "c7adc06c324ee8cdf3ec1d8d2337d6ca", "html_url": "https://github.com/chuckbjones", "following_url": "https://api.github.com/users/chuckbjones/following{/other_user}", "received_events_url": "https://api.github.com/users/chuckbjones/received_events", "organizations_url": "https://api.github.com/users/chuckbjones/orgs", "avatar_url": "https://0.gravatar.com/avatar/c7adc06c324ee8cdf3ec1d8d2337d6ca?d=https%3A%2F%2Fidenticons.github.com%2Fbc5c951b42118b516b9609e5d65eb4d0.png", "starred_url": "https://api.github.com/users/chuckbjones/starred{/owner}{/repo}", "id": 792147, "followers_url": "https://api.github.com/users/chuckbjones/followers", "type": "User"}, "created_at": "2013-03-29T23:24:51Z", "id": 15665329, "owner": "rails"}
