{"updated_at": "2013-01-02T02:54:22Z", "repo": "rails", "created_at": "2013-01-02T02:54:22Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/11799236", "id": 11799236, "issue_url": "https://api.github.com/repos/rails/rails/issues/7980", "issue_id": 7980, "user": {"repos_url": "https://api.github.com/users/indirect/repos", "type": "User", "html_url": "https://github.com/indirect", "starred_url": "https://api.github.com/users/indirect/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indirect/subscriptions", "following_url": "https://api.github.com/users/indirect/following{/other_user}", "gravatar_id": "4c3ed917e59156a36212d48155831482", "organizations_url": "https://api.github.com/users/indirect/orgs", "url": "https://api.github.com/users/indirect", "gists_url": "https://api.github.com/users/indirect/gists{/gist_id}", "avatar_url": "https://0.gravatar.com/avatar/4c3ed917e59156a36212d48155831482?d=https%3A%2F%2Fidenticons.github.com%2F35f4a8d465e6e1edc05f3d8ab658c551.png", "id": 78, "events_url": "https://api.github.com/users/indirect/events{/privacy}", "login": "indirect", "received_events_url": "https://api.github.com/users/indirect/received_events", "followers_url": "https://api.github.com/users/indirect/followers"}, "body": "The job of this middleware is to return the IP address reported in the headers of the request. IMO, if you want to ignore one of those headers, then yes, you should have to write code that deletes that header. Have you asked the Amazon guys about fixing their headers so that code isn't needed?\r\n\r\nOn Jan 1, 2013, at 5:16 PM, John Firebaugh <notifications@github.com> wrote:\r\n\r\n> Figuring out the correct IP is the responsibility of the RemoteIp middleware, right? Folks shouldn't have to write a second middleware that deals in the same protocol details as RemoteIp in order to get RemoteIp to work correctly in what is a very common environment.\r\n> \r\n> I'm all for removing the spoof checking as well, but I think there needs to be a configuration option to say which of Client-Ip and X-Forwarded-For is accurate.\r\n> \r\n> \u0081\\\r\n> Reply to this email directly or view it on GitHub.\r\n> ", "_id": {"$oid": "523db5b8bd354364b90095f3"}, "html_url": "https://github.com/rails/rails/pull/7980#issuecomment-11799236"}
