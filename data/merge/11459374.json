{"updated_at": "2012-12-17T20:18:38Z", "repo": "rails", "created_at": "2012-12-17T20:18:38Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/11459374", "id": 11459374, "issue_url": "https://api.github.com/repos/rails/rails/issues/8530", "issue_id": 8530, "user": {"repos_url": "https://api.github.com/users/dasch/repos", "type": "User", "html_url": "https://github.com/dasch", "starred_url": "https://api.github.com/users/dasch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dasch/subscriptions", "following_url": "https://api.github.com/users/dasch/following{/other_user}", "gravatar_id": "a9cc05e6a7866e5fa9a7d107b5070174", "organizations_url": "https://api.github.com/users/dasch/orgs", "url": "https://api.github.com/users/dasch", "gists_url": "https://api.github.com/users/dasch/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/a9cc05e6a7866e5fa9a7d107b5070174?d=https%3A%2F%2Fidenticons.github.com%2Fc6862d63b17d713ee14f3a405d9fde77.png", "id": 6351, "events_url": "https://api.github.com/users/dasch/events{/privacy}", "login": "dasch", "received_events_url": "https://api.github.com/users/dasch/received_events", "followers_url": "https://api.github.com/users/dasch/followers"}, "body": "> The current solution is fine, except that I would register it to :erb and not the handler class. We could also possibly allow more than one tracker per extension.\r\n\r\nI don't see an easy way of getting to `:erb`, though, as only the handler is stored on the Template as far as I can see. The knowledge is contained within the Resolver. I could move call into Resolver perhaps, and add a `#dependencies` attribute to Template:\r\n\r\n```ruby\r\n# resolver.rb\r\ndependencies = DependencyTracker.find_dependencies(extension, template)\r\ntemplate.dependencies = dependencies\r\n\r\n# The Digestor would just read Template#dependencies.\r\n```\r\n\r\n> The name is fine except I would call it ERBTracker for consistency with the template handler.\r\n\r\nSure. Alternatively, DependencyTrackers::ERB, to match Handlers::ERB?\r\n\r\n> > I'm not sure what level of support there is for non-Erb templating languages in Digestor right now.\r\n> I don't think there is any.\r\n\r\nMakes my life easier :-) At least now each supported template language can be explicitly added.", "_id": {"$oid": "523d8483bd354364b9007714"}, "html_url": "https://github.com/rails/rails/pull/8530#issuecomment-11459374"}
