{"body": "That's a bug then. Prem must have misunderstood. The way it should work is:\r\n\r\n1) \"rails test models/single_test\" should NOT reload the db fixtures, but MUST provide access to the existing fixtures through the accessors, like line_items(:one).\r\n\r\n2) \"rails test models/single_test --reload-fixtures\" MUST reload the db fixtures AND provide access through accessors.\r\n\r\n3) \"rails test models\" MUST reload the db fixtures AND provide access through accessors.\r\n\r\n4) \"rails test\" MUST reload the db fixtures AND provide access through accessors.\r\n\r\nIf any of these points are not currently true, it's a bug.\r\n\r\nOn Mar 21, 2013, at 9:29 AM, Sam Ruby <notifications@github.com> wrote:\r\n\r\n> today fixtures are not loaded\r\n> \r\n> Actually, they do with Rails 3.2.x and Rails 4.0.0.beta1.\r\n> \r\n> That's just loading the fixtures.\r\n> \r\n> Ok. Now I'm thoroughly confused :-)\r\n> \r\n> In any case, the problem that Aaron is seeing, and would like reversed, is as follows:\r\n> \r\n> $ ruby -I lib:test test/controllers/line_items_controller_test.rb \r\n> Run options: --seed 26717\r\n> \r\n> # Running tests:\r\n> \r\n> EEEEEEE\r\n> \r\n> Finished tests in 0.020279s, 345.1847 tests/s, 0.0000 assertions/s.\r\n> \r\n>   1) Error:\r\n> LineItemsControllerTest#test_should_create_line_item:\r\n> NoMethodError: undefined method `line_items' for #<LineItemsControllerTest:0x007f8d5c520d28>\r\n>     test/controllers/line_items_controller_test.rb:5:in `block in <class:LineItemsControllerTest>'\r\n> \r\n> \u2014\r\n> Reply to this email directly or view it on GitHub.\r\n> ", "url": "https://api.github.com/repos/rails/rails/issues/comments/15249603", "created_at": "2013-03-21T16:33:00Z", "html_url": "https://github.com/rails/rails/pull/9080#issuecomment-15249603", "updated_at": "2013-03-21T16:33:00Z", "repo": "rails", "issue_id": 9080, "user": {"following_url": "https://api.github.com/users/dhh/following{/other_user}", "events_url": "https://api.github.com/users/dhh/events{/privacy}", "organizations_url": "https://api.github.com/users/dhh/orgs", "url": "https://api.github.com/users/dhh", "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}", "html_url": "https://github.com/dhh", "subscriptions_url": "https://api.github.com/users/dhh/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/ed9635566b34ade32274f510f0f9a6d2?d=https%3A%2F%2Fidenticons.github.com%2Fcdcb2f5c7b071143529ef7f2705dfbc4.png", "repos_url": "https://api.github.com/users/dhh/repos", "received_events_url": "https://api.github.com/users/dhh/received_events", "gravatar_id": "ed9635566b34ade32274f510f0f9a6d2", "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}", "login": "dhh", "type": "User", "id": 2741, "followers_url": "https://api.github.com/users/dhh/followers"}, "owner": "rails", "_id": {"$oid": "523d5a22bd354364b900609a"}, "id": 15249603, "issue_url": "https://api.github.com/repos/rails/rails/issues/9080"}
