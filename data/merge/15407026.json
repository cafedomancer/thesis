{"updated_at": "2013-03-25T17:16:25Z", "repo": "rails", "created_at": "2013-03-25T17:16:25Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/15407026", "id": 15407026, "issue_url": "https://api.github.com/repos/rails/rails/issues/9080", "issue_id": 9080, "user": {"repos_url": "https://api.github.com/users/tenderlove/repos", "type": "User", "html_url": "https://github.com/tenderlove", "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions", "following_url": "https://api.github.com/users/tenderlove/following{/other_user}", "gravatar_id": "f29327647a9cff5c69618bae420792ea", "organizations_url": "https://api.github.com/users/tenderlove/orgs", "url": "https://api.github.com/users/tenderlove", "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/f29327647a9cff5c69618bae420792ea?d=https%3A%2F%2Fidenticons.github.com%2F7c78335a8924215ea5c22fda1aac7b75.png", "id": 3124, "events_url": "https://api.github.com/users/tenderlove/events{/privacy}", "login": "tenderlove", "received_events_url": "https://api.github.com/users/tenderlove/received_events", "followers_url": "https://api.github.com/users/tenderlove/followers"}, "body": "> I don't see how any of these changes break existing code. Could you explain further?\r\n\r\n@dhh the rake tasks call `exec` which kills the existing process.  Any code that was executing after the rake tasks will no longer execute.  Also, it looks like the test tasks have been changed to run `bundle exec ...`.  Booting the app runs bundle setup, so running \"bundle exec\" just adds more overhead.\r\n\r\nThe **actual problem** behind the slow tests is that we load the environment twice.  @wangjohn (and team MIT) are working to remove the requirement that we have one app per process.  Once this requirement is gone, we will have the ability to switch environments in the same process.  That means we can fix the rake tasks to have the same speed as `rails test` but deprecate nothing and break no existing code.\r\n\r\nI would like to revert the changes to the rake tasks.  There is no reason to deprecate them, so we should not.\r\n\r\n**TL;DR we can eventually make the rake tasks as fast as `rails test` so there is no reason to deprecate them**", "_id": {"$oid": "523d5a22bd354364b900609f"}, "html_url": "https://github.com/rails/rails/pull/9080#issuecomment-15407026"}
