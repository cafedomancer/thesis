{"updated_at": "2012-04-13T17:37:29Z", "repo": "rails", "created_at": "2012-04-13T17:34:54Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/5121132", "id": 5121132, "issue_url": "https://api.github.com/repos/rails/rails/issues/5821", "issue_id": 5821, "user": {"repos_url": "https://api.github.com/users/Deradon/repos", "type": "User", "html_url": "https://github.com/Deradon", "starred_url": "https://api.github.com/users/Deradon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Deradon/subscriptions", "following_url": "https://api.github.com/users/Deradon/following{/other_user}", "gravatar_id": "c28a3b5af4b4431542240f1036ef1e89", "organizations_url": "https://api.github.com/users/Deradon/orgs", "url": "https://api.github.com/users/Deradon", "gists_url": "https://api.github.com/users/Deradon/gists{/gist_id}", "avatar_url": "https://2.gravatar.com/avatar/c28a3b5af4b4431542240f1036ef1e89?d=https%3A%2F%2Fidenticons.github.com%2F822fa8747d3c9fc19a0d40c68f7af032.png", "id": 385500, "events_url": "https://api.github.com/users/Deradon/events{/privacy}", "login": "Deradon", "received_events_url": "https://api.github.com/users/Deradon/received_events", "followers_url": "https://api.github.com/users/Deradon/followers"}, "body": "`rake app:foobar:install:migrations` is broken, so this should be removed or fixed\r\n\r\n#### Lets explain my special use case:\r\n\r\nI've created a custom template for creating a engine..\r\nSo lets say I'm doing :\r\n`rails plugin new foo --mountable --skip-bundle --template=<template_path>`\r\nFoo depends on engine \"bar\". (`gem \"bar\"` within template)\r\n\r\nSo the generator of foo should copy migrations from bar:\r\n\r\n    rake app:bar:install:migrations\r\n    rake db:migrate # unsure if this works\r\n\r\nSo, any `rake app:<engine>:install:migrations` is broken.\r\nYeah, you could just `cd test/dummy` and run the task, but I'd like\r\nto invoke these rake tasks within my engine template.\r\n\r\nHer is a snippet of the template:\r\n\r\n    # HACK: cause \"app:bar:install:migrations\"  fails with current Rails (3.2.3)\r\n    inside(dummy_path) do\r\n      `bundle exec bar:install:migrations`\r\n    end\r\n\r\n    inside(destination_root) do\r\n      #rake(\"app:bar:install:migrations\") # Fails with Rails 3.2.3\r\n      rake(\"db:create\")\r\n      rake(\"db:migrate\")\r\n      rake(\"app:#{name}:install\")\r\n    end\r\n\r\nAs you see, I've to hack around to get it working.", "_id": {"$oid": "52381277bd3543c15100d976"}, "html_url": "https://github.com/rails/rails/pull/5821#issuecomment-5121132"}
