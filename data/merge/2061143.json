{"body": "Anyone know how is better to fix it?\r\n\r\nThis code should be removed, because it's not safe:\r\n\r\n                    # No point in executing the counter update since we're going to destroy the parent anyway\r\n                    counter_method = ('belongs_to_counter_cache_before_destroy_for_' + self.class.name.downcase).to_sym\r\n                    if(o.respond_to? counter_method) then\r\n                      class << o\r\n                        self\r\n                      end.send(:define_method, counter_method, Proc.new {})\r\n                    end", "url": "https://api.github.com/repos/rails/rails/issues/comments/2061143", "created_at": "2011-09-10T20:44:18Z", "html_url": "https://github.com/rails/rails/pull/2955#issuecomment-2061143", "updated_at": "2011-09-10T20:44:18Z", "repo": "rails", "issue_id": 2955, "user": {"following_url": "https://api.github.com/users/dmitry/following{/other_user}", "events_url": "https://api.github.com/users/dmitry/events{/privacy}", "organizations_url": "https://api.github.com/users/dmitry/orgs", "url": "https://api.github.com/users/dmitry", "gists_url": "https://api.github.com/users/dmitry/gists{/gist_id}", "html_url": "https://github.com/dmitry", "subscriptions_url": "https://api.github.com/users/dmitry/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/832ed6ace46d61032151f4e1864c057f?d=https%3A%2F%2Fidenticons.github.com%2F237168031d88451c78fd8d6d6378c0b2.png", "repos_url": "https://api.github.com/users/dmitry/repos", "received_events_url": "https://api.github.com/users/dmitry/received_events", "gravatar_id": "832ed6ace46d61032151f4e1864c057f", "starred_url": "https://api.github.com/users/dmitry/starred{/owner}{/repo}", "login": "dmitry", "type": "User", "id": 5091, "followers_url": "https://api.github.com/users/dmitry/followers"}, "owner": "rails", "_id": {"$oid": "52383d47bd3543c151010461"}, "id": 2061143, "issue_url": "https://api.github.com/repos/rails/rails/issues/2955"}
