{"updated_at": "2013-05-22T10:17:04Z", "repo": "rails", "created_at": "2013-05-22T10:17:04Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/18269522", "id": 18269522, "issue_url": "https://api.github.com/repos/rails/rails/issues/10713", "issue_id": 10713, "user": {"repos_url": "https://api.github.com/users/senny/repos", "type": "User", "html_url": "https://github.com/senny", "starred_url": "https://api.github.com/users/senny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/senny/subscriptions", "following_url": "https://api.github.com/users/senny/following{/other_user}", "gravatar_id": "3d698e2872c07061a455d9e250861235", "organizations_url": "https://api.github.com/users/senny/orgs", "url": "https://api.github.com/users/senny", "gists_url": "https://api.github.com/users/senny/gists{/gist_id}", "avatar_url": "https://2.gravatar.com/avatar/3d698e2872c07061a455d9e250861235?d=https%3A%2F%2Fidenticons.github.com%2Fd1359f9934ee5a75ed441ffce412a0a1.png", "id": 5402, "events_url": "https://api.github.com/users/senny/events{/privacy}", "login": "senny", "received_events_url": "https://api.github.com/users/senny/received_events", "followers_url": "https://api.github.com/users/senny/followers"}, "body": "@neerajdotname the example in the test-case is a little far fetched but there are similar uses in our test-suite already:\r\nhttps://github.com/rails/rails/blob/master/activerecord/test/models/author.rb#L104\r\n\r\nThey just illustrate that you can use a different primary_key for any given association. Even if it's not the real primary-key on the table. Imagine a situation where you have a table with 2 unique columns, an ID Sequence and some kind of string identifier. Now there might be join tables that you want to link to using the string identifier. You can achieve this using the `:primary_key` option.\r\n\r\nNow the bug was hidden in our test-suite because all occurrences of `:primary_key` referenced a column present in both tables (in the example I linked to it was `name`, which is on `authors` and `essays`). You can see from the deletion query I linked that the code tried to use the `:primary_key` option on the wrong table.\r\n\r\nI hope you understand my poor explanation. :sweat:  ", "_id": {"$oid": "523cc2f3bd354364b90024a5"}, "html_url": "https://github.com/rails/rails/pull/10713#issuecomment-18269522"}
