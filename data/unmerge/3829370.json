{"issue_url": "https://api.github.com/repos/rails/rails/issues/4902", "repo": "rails", "body": "Attribute accessor is working. All test are passing (with and without patch also).\r\n\r\nYou can try this example with and without my patch\r\n\r\n``` ruby\r\nrequire \"rubygems\"\r\nrequire \"action_view\"\r\nrequire \"active_record\"\r\nrequire \"logger\"\r\n\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\nActiveRecord::Base.establish_connection(\r\n  :adapter => 'sqlite3', \r\n  :database => ':memory:')\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :items, :force=>true do |t|\r\n    t.string :name\r\n  end\r\nend\r\n\r\nclass MySerializer\r\n  def load(str)\r\n    str.swapcase\r\n  end\r\n\r\n  def dump(str)\r\n    str.swapcase\r\n  end\r\nend\r\n\r\nclass Item < ActiveRecord::Base\r\n  serialize :name, MySerializer.new\r\nend\r\n\r\n@item = Item.new\r\n@item.name = \"lowerUPPER\"\r\n\r\nputs @item.name\r\nputs @item.attributes[\"name\"]\r\n\r\n@item.save!\r\n\r\n@saved_item = Item.last\r\n\r\nputs @saved_item.name\r\nputs @saved_item.attributes[\"name\"]\r\n\r\ninclude ActionView::Helpers::FormHelper\r\nputs text_field(:item,:name)\r\nputs text_field(:saved_item,:name)\r\n\r\n```\r\n\r\nWith patch\r\n\r\n``` ruby\r\n\r\n\"lowerUPPER\"\r\n\"lowerUPPER\"\r\n\"lowerUPPER\"\r\n\"lowerUPPER\"\r\n<input id=\"item_name\" name=\"item[name]\" size=\"30\" type=\"text\" value=\"LOWERupper\" />\r\n<input id=\"saved_item_name\" name=\"saved_item[name]\" size=\"30\" type=\"text\" value=\"LOWERupper\" />\r\n```\r\n\r\nWithout patch\r\n\r\n``` ruby\r\n\"lowerUPPER\"\r\n\"lowerUPPER\"\r\n\"lowerUPPER\"\r\n\"lowerUPPER\"\r\n<input id=\"item_name\" name=\"item[name]\" size=\"30\" type=\"text\" value=\"#&lt;struct ActiveRecord::AttributeMethods::Serialization::Attribute coder=#&lt;MySerializer:0x0000000187dad8&gt;, value=&quot;lowerUPPER&quot;, state=:unserialized&gt;\" />\r\n<input id=\"saved_item_name\" name=\"saved_item[name]\" size=\"30\" type=\"text\" value=\"#&lt;struct ActiveRecord::AttributeMethods::Serialization::Attribute coder=#&lt;MySerializer:0x0000000187dad8&gt;, value=&quot;lowerUPPER&quot;, state=:unserialized&gt;\" />\r\n```\r\n\r\nMaybe I'm not getting it. Can you tell me where I'm wrong thinking about this problem @jonleighton? Attribute reader is returning unserialized value. But in form helpers serialized values are used. That's how this was working in Rails 3.1.3.", "_id": {"$oid": "52381faebd3543c15100e82b"}, "issue_id": 4902, "url": "https://api.github.com/repos/rails/rails/issues/comments/3829370", "html_url": "https://github.com/rails/rails/pull/4902#issuecomment-3829370", "updated_at": "2012-02-06T14:40:49Z", "user": {"subscriptions_url": "https://api.github.com/users/simi/subscriptions", "events_url": "https://api.github.com/users/simi/events{/privacy}", "repos_url": "https://api.github.com/users/simi/repos", "gists_url": "https://api.github.com/users/simi/gists{/gist_id}", "url": "https://api.github.com/users/simi", "login": "simi", "gravatar_id": "b5d361c5cdfa815082d54022bc45ece2", "html_url": "https://github.com/simi", "following_url": "https://api.github.com/users/simi/following{/other_user}", "received_events_url": "https://api.github.com/users/simi/received_events", "organizations_url": "https://api.github.com/users/simi/orgs", "avatar_url": "https://0.gravatar.com/avatar/b5d361c5cdfa815082d54022bc45ece2?d=https%3A%2F%2Fidenticons.github.com%2Ffcb8b89a8fe52f197237a55c36141c09.png", "starred_url": "https://api.github.com/users/simi/starred{/owner}{/repo}", "id": 193936, "followers_url": "https://api.github.com/users/simi/followers", "type": "User"}, "created_at": "2012-02-06T14:37:40Z", "id": 3829370, "owner": "rails"}
