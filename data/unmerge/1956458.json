{"body": "@jonleighton\r\n\r\n> I think this test was intended to test using the alias defined in the select clause in the having clause, so maybe it should just be\r\n> skipped on Oracle if it doesn't support that.\r\n\r\nCorrect.\r\n\r\n@rsim is wrong. The intention of this test is to check [this line](https://github.com/rsim/rails/commit/d7618c7e381a4f335b7e9fac446b1b39ac4b1b1a#L0R249), indeed. This line introduced in #1969,  and the pull request fully describes the error - it occurs when you alias a select value, then use the alias in having. The suggested pull request _removes_ alias from having. It is wrong. Can't test it currently with the patch, but _if_ the test still fails without the fix for #1969, it fails in another way or by another reason. Maybe it can be improved, if so.\r\n\r\nAs Oracle does not allow use of alias in HAVING clause, than this test has no sense for Oracle. ", "url": "https://api.github.com/repos/rails/rails/issues/comments/1956458", "created_at": "2011-08-31T11:50:10Z", "html_url": "https://github.com/rails/rails/pull/2751#issuecomment-1956458", "updated_at": "2011-08-31T11:53:10Z", "repo": "rails", "issue_id": 2751, "user": {"following_url": "https://api.github.com/users/dmitriy-kiriyenko/following{/other_user}", "events_url": "https://api.github.com/users/dmitriy-kiriyenko/events{/privacy}", "organizations_url": "https://api.github.com/users/dmitriy-kiriyenko/orgs", "url": "https://api.github.com/users/dmitriy-kiriyenko", "gists_url": "https://api.github.com/users/dmitriy-kiriyenko/gists{/gist_id}", "html_url": "https://github.com/dmitriy-kiriyenko", "subscriptions_url": "https://api.github.com/users/dmitriy-kiriyenko/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/c4486876726bcef5b87268564fc29e6c?d=https%3A%2F%2Fidenticons.github.com%2F815d8c98c8513891669c2f1af6ca4c27.png", "repos_url": "https://api.github.com/users/dmitriy-kiriyenko/repos", "received_events_url": "https://api.github.com/users/dmitriy-kiriyenko/received_events", "gravatar_id": "c4486876726bcef5b87268564fc29e6c", "starred_url": "https://api.github.com/users/dmitriy-kiriyenko/starred{/owner}{/repo}", "login": "dmitriy-kiriyenko", "type": "User", "id": 124430, "followers_url": "https://api.github.com/users/dmitriy-kiriyenko/followers"}, "owner": "rails", "_id": {"$oid": "5238408ebd3543c1510108cb"}, "id": 1956458, "issue_url": "https://api.github.com/repos/rails/rails/issues/2751"}
