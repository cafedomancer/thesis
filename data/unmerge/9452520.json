{"issue_url": "https://api.github.com/repos/rails/rails/issues/7889", "repo": "rails", "body": "@rafaelfranca :\r\n\r\nI see your point and like @al2o3cr actually agree that things should be uncomplicated.  While\r\n\r\n<pre><code>options_for_select([\"Pop\"]) + grouped_options_for_select([[\"Rock\", [[\"Alternative Rock\", {:class => \"rock\"}], [\"Hard Rock\"]]]]) + options_for_select([\"Country\"])</code></pre>\r\n\r\nwill generate,\r\n\r\n    <option value=\"Pop\">Pop</option>\r\n    <optgroup label=\"Rock\">\r\n        <option value=\"Alternative Rock\" class=\"rock\">Alternative Rock</option>\r\n        <option value=\"Hard Rock\">Hard Rock</option>\r\n    </optgroup>\r\n    <option value=\"Country\">Country</option>\r\n\r\n<code>grouped_options_for_select</code> does not support adding any html attributes on the optgroup level such as,\r\n\r\n<pre><code>grouped_options_for_select([[\"Rock\", { :class => \"rock\" }, [[\"Alternative Rock\"], [\"Hard Rock\"]]]])</code></pre>\r\n\r\nFor reference, that produces:\r\n\r\n    <optgroup label=\\\"Rock\\\">\r\n        <option value=\\\"rock\\\">class</option>\r\n    </optgroup>\r\n\r\nAnd attempting\r\n\r\n<pre><code>grouped_options_for_select([[\"Rock\", [[\"Alternative Rock\"], [\"Hard Rock\"]], { :class => \"rock\" }]])</code></pre>\r\n\r\njust ignores the attempt to add an attribute to the optgroup.\r\n\r\n    <optgroup label=\\\"Rock\\\">\r\n        <option value=\\\"Alternative Rock\\\">Alternative Rock</option>\r\n        <option value=\\\"Hard Rock\\\">Hard Rock</option>\r\n    </optgroup>\r\n\r\nFurthermore, shouldn't you be able to feed in a structured array with hashes containing the html attributes and get out a structured list, regardless of whether there are bare options or optgroups? \r\n\r\nI agree that another function is unnecessary and excessive.  I'm starting to think generation of the options/optgroups should be consolidated into one function that does everything (bare options, optgroups, html attributes, arrays, hashes, etc.) and existing functions treated as wrappers (for backwards compatibility to be depreciated in the future).\r\n\r\nThoughts?\r\n\r\n", "_id": {"$oid": "5237f7e6bd3543c15100b15d"}, "issue_id": 7889, "url": "https://api.github.com/repos/rails/rails/issues/comments/9452520", "html_url": "https://github.com/rails/rails/pull/7889#issuecomment-9452520", "updated_at": "2012-10-15T16:56:38Z", "user": {"subscriptions_url": "https://api.github.com/users/chatura-atapattu/subscriptions", "events_url": "https://api.github.com/users/chatura-atapattu/events{/privacy}", "repos_url": "https://api.github.com/users/chatura-atapattu/repos", "gists_url": "https://api.github.com/users/chatura-atapattu/gists{/gist_id}", "url": "https://api.github.com/users/chatura-atapattu", "login": "chatura-atapattu", "gravatar_id": "341131caf7911c0047602e3b9c272b62", "html_url": "https://github.com/chatura-atapattu", "following_url": "https://api.github.com/users/chatura-atapattu/following{/other_user}", "received_events_url": "https://api.github.com/users/chatura-atapattu/received_events", "organizations_url": "https://api.github.com/users/chatura-atapattu/orgs", "avatar_url": "https://2.gravatar.com/avatar/341131caf7911c0047602e3b9c272b62?d=https%3A%2F%2Fidenticons.github.com%2F00ee7845366bf7e25447bbd96dc7b327.png", "starred_url": "https://api.github.com/users/chatura-atapattu/starred{/owner}{/repo}", "id": 942312, "followers_url": "https://api.github.com/users/chatura-atapattu/followers", "type": "User"}, "created_at": "2012-10-15T16:56:38Z", "id": 9452520, "owner": "rails"}
