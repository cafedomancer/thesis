{"updated_at": "2013-07-10T07:48:06Z", "repo": "rails", "created_at": "2013-07-10T07:48:06Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/20726470", "id": 20726470, "issue_url": "https://api.github.com/repos/rails/rails/issues/11292", "issue_id": 11292, "user": {"repos_url": "https://api.github.com/users/pixeltrix/repos", "type": "User", "html_url": "https://github.com/pixeltrix", "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions", "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}", "gravatar_id": "b14001f2b40640dd6cb63f0e8f1f4869", "organizations_url": "https://api.github.com/users/pixeltrix/orgs", "url": "https://api.github.com/users/pixeltrix", "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}", "avatar_url": "https://2.gravatar.com/avatar/b14001f2b40640dd6cb63f0e8f1f4869?d=https%3A%2F%2Fidenticons.github.com%2F7cb36e23529e4de4c41460940cc85e6e.png", "id": 6321, "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}", "login": "pixeltrix", "received_events_url": "https://api.github.com/users/pixeltrix/received_events", "followers_url": "https://api.github.com/users/pixeltrix/followers"}, "body": "This works for WordPress:\r\n\r\n``` ruby\r\nmodule WordPress\r\n  def self.table_name_prefix\r\n    'wp_'\r\n  end\r\nend\r\n\r\nclass WordPress::Post < ActiveRecord::Base\r\n  self.inheritance_column = 'post_type'\r\n\r\n  class << self\r\n    def find_sti_class(type_name)\r\n      parent.const_get(type_name.camelize)\r\n    end\r\n\r\n    def sti_name\r\n      name.demodulize.underscore\r\n    end\r\n  end\r\nend\r\n\r\nclass WordPress::Page < WordPress::Post; end\r\n```\r\n\r\n``` irb\r\n>> WordPress::Page.first\r\n  WordPress::Page Load (0.5ms)  SELECT `wp_posts`.* FROM `wp_posts` WHERE `wp_posts`.`post_type` IN ('page') LIMIT 1\r\n```\r\n\r\nThe rest is left as an exercise for the reader :smile:", "_id": {"$oid": "5237d68dbd3543c1510082e2"}, "html_url": "https://github.com/rails/rails/pull/11292#issuecomment-20726470"}
