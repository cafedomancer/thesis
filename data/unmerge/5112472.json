{"body": "I'd expect before_add to behave the same as other callbacks.\r\n\r\nThat said, an alternative to this would be to have an `:add_if` option to do the check more explicitly. My only concern is when would this check be made, before or after the before_add callback?\r\n\r\n**EDIT**: thinking about this, `:add_if` should happen after before_add. @shwoodard do you want to try this variant? I could cherry pick your commit and help with that.", "url": "https://api.github.com/repos/rails/rails/issues/comments/5112472", "created_at": "2012-04-13T11:00:09Z", "html_url": "https://github.com/rails/rails/pull/2881#issuecomment-5112472", "updated_at": "2012-04-13T11:08:39Z", "repo": "rails", "issue_id": 2881, "user": {"following_url": "https://api.github.com/users/oscardelben/following{/other_user}", "events_url": "https://api.github.com/users/oscardelben/events{/privacy}", "organizations_url": "https://api.github.com/users/oscardelben/orgs", "url": "https://api.github.com/users/oscardelben", "gists_url": "https://api.github.com/users/oscardelben/gists{/gist_id}", "html_url": "https://github.com/oscardelben", "subscriptions_url": "https://api.github.com/users/oscardelben/subscriptions", "avatar_url": "https://2.gravatar.com/avatar/e7f9d52790d6ef7dd61956c65b8117e6?d=https%3A%2F%2Fidenticons.github.com%2Ffb0650ff38f84d526883336ff5119dc0.png", "repos_url": "https://api.github.com/users/oscardelben/repos", "received_events_url": "https://api.github.com/users/oscardelben/received_events", "gravatar_id": "e7f9d52790d6ef7dd61956c65b8117e6", "starred_url": "https://api.github.com/users/oscardelben/starred{/owner}{/repo}", "login": "oscardelben", "type": "User", "id": 3892, "followers_url": "https://api.github.com/users/oscardelben/followers"}, "owner": "rails", "_id": {"$oid": "52383e10bd3543c151010563"}, "id": 5112472, "issue_url": "https://api.github.com/repos/rails/rails/issues/2881"}
