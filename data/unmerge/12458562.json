{"issue_url": "https://api.github.com/repos/rails/rails/issues/8961", "repo": "rails", "body": "Given that `session[:session_id]` is specific to cookie_store,\r\nI'd planned on updating/replacing this pull request with one that replaces the `session.id` from Rack:\r\n\r\n```ruby\r\ndef id\r\n  options[:id] || (load_for_write! && options[:id])\r\nend\r\n```\r\n\r\nWhile working on an updated patch, I realized the cookie_store test for `setting_session_id_to_nil_is_respected` is incorrect, as it never makes an additional request. When done, it shows the cookie is written using the same SID.\r\nI'm assuming the desired behavior would be to reset the SID while keeping the data?\r\nOtherwise, setting this to nil should be the same as `session.destroy`.\r\nTrying to _actually_ respect setting `session.options[:id]` to nil is challenging.\r\n\r\nAlso, I'm thinking it may be a good idea to change the key for storing the SID\r\n from `:session_id` to `:_session_id` to make it clear that it shouldn't be accessed directly.\r\n\r\nI'm still working on this... and should be able to submit separate issues for these other items.\r\nJust wanted to get my current thoughts out here for anyone reviewing this.\r\n", "_id": {"$oid": "523d60d7bd354364b9006512"}, "issue_id": 8961, "url": "https://api.github.com/repos/rails/rails/issues/comments/12458562", "html_url": "https://github.com/rails/rails/pull/8961#issuecomment-12458562", "updated_at": "2013-01-19T18:11:11Z", "user": {"subscriptions_url": "https://api.github.com/users/burns/subscriptions", "events_url": "https://api.github.com/users/burns/events{/privacy}", "repos_url": "https://api.github.com/users/burns/repos", "gists_url": "https://api.github.com/users/burns/gists{/gist_id}", "url": "https://api.github.com/users/burns", "login": "burns", "gravatar_id": "dc03efb58652b74e28722beb5d5c1826", "html_url": "https://github.com/burns", "following_url": "https://api.github.com/users/burns/following{/other_user}", "received_events_url": "https://api.github.com/users/burns/received_events", "organizations_url": "https://api.github.com/users/burns/orgs", "avatar_url": "https://1.gravatar.com/avatar/dc03efb58652b74e28722beb5d5c1826?d=https%3A%2F%2Fidenticons.github.com%2F6229c8950a89834489d855c14d32576f.png", "starred_url": "https://api.github.com/users/burns/starred{/owner}{/repo}", "id": 198303, "followers_url": "https://api.github.com/users/burns/followers", "type": "User"}, "created_at": "2013-01-19T18:11:11Z", "id": 12458562, "owner": "rails"}
