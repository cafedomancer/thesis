{"body": "About resolver, we are aware that it is not threadsafe but since it is a cache, it should not be a problem if we have concurrent read/writes (i.e. we don't need to put a lock around the whole template lookup, just around the data structure access), except that JRuby does raise an error when it happens. The solutions provided so far moves all the logic into the resolver, while I think it should be handled by the underlying data structure.\n\nEDIT: removed possible solutions because they were redundant", "url": "https://api.github.com/repos/rails/rails/issues/comments/6252741", "created_at": "2012-06-11T18:53:47Z", "html_url": "https://github.com/rails/rails/pull/6685#issuecomment-6252741", "updated_at": "2012-06-11T19:12:06Z", "repo": "rails", "issue_id": 6685, "user": {"following_url": "https://api.github.com/users/josevalim/following{/other_user}", "events_url": "https://api.github.com/users/josevalim/events{/privacy}", "organizations_url": "https://api.github.com/users/josevalim/orgs", "url": "https://api.github.com/users/josevalim", "gists_url": "https://api.github.com/users/josevalim/gists{/gist_id}", "html_url": "https://github.com/josevalim", "subscriptions_url": "https://api.github.com/users/josevalim/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/e837f6b7fd146ab16ed3d663476c063e?d=https%3A%2F%2Fidenticons.github.com%2Fe20b21ae6508f22fc189c60a0880d0b8.png", "repos_url": "https://api.github.com/users/josevalim/repos", "received_events_url": "https://api.github.com/users/josevalim/received_events", "gravatar_id": "e837f6b7fd146ab16ed3d663476c063e", "starred_url": "https://api.github.com/users/josevalim/starred{/owner}{/repo}", "login": "josevalim", "type": "User", "id": 9582, "followers_url": "https://api.github.com/users/josevalim/followers"}, "owner": "rails", "_id": {"$oid": "52380552bd3543c15100c6ed"}, "id": 6252741, "issue_url": "https://api.github.com/repos/rails/rails/issues/6685"}
