{"updated_at": "2013-03-22T14:24:21Z", "repo": "rails", "created_at": "2013-03-22T14:24:21Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/15299227", "id": 15299227, "issue_url": "https://api.github.com/repos/rails/rails/issues/9761", "issue_id": 9761, "user": {"repos_url": "https://api.github.com/users/jonleighton/repos", "type": "User", "html_url": "https://github.com/jonleighton", "starred_url": "https://api.github.com/users/jonleighton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonleighton/subscriptions", "following_url": "https://api.github.com/users/jonleighton/following{/other_user}", "gravatar_id": "2940bc7d4506f3e099e3dcc32a412b98", "organizations_url": "https://api.github.com/users/jonleighton/orgs", "url": "https://api.github.com/users/jonleighton", "gists_url": "https://api.github.com/users/jonleighton/gists{/gist_id}", "avatar_url": "https://2.gravatar.com/avatar/2940bc7d4506f3e099e3dcc32a412b98?d=https%3A%2F%2Fidenticons.github.com%2F798cebccb32617ad94123450fd137104.png", "id": 1979, "events_url": "https://api.github.com/users/jonleighton/events{/privacy}", "login": "jonleighton", "received_events_url": "https://api.github.com/users/jonleighton/received_events", "followers_url": "https://api.github.com/users/jonleighton/followers"}, "body": "Hmm, weird. Maybe some native extension is objecting to the signal. Anyway, how about this?\r\n\r\n``` diff\r\ndiff --git a/railties/test/application/console_test.rb b/railties/test/application/console_test.rb\r\nindex d586822..80700a1 100644\r\n--- a/railties/test/application/console_test.rb\r\n+++ b/railties/test/application/console_test.rb\r\n@@ -126,12 +126,6 @@ class FullStackConsoleTest < ActiveSupport::TestCase\r\n     assert_output \"> \"\r\n   end\r\n \r\n-  def kill(pid)\r\n-    Process.kill('TERM', pid)\r\n-    Process.wait(pid)\r\n-  rescue Errno::ESRCH\r\n-  end\r\n-\r\n   def spawn_console\r\n     pid = Process.spawn(\r\n       \"#{app_path}/bin/rails console --sandbox\",\r\n@@ -148,15 +142,13 @@ class FullStackConsoleTest < ActiveSupport::TestCase\r\n     write_prompt \"Post.count\", \"=> 0\"\r\n     write_prompt \"Post.create\"\r\n     write_prompt \"Post.count\", \"=> 1\"\r\n-\r\n-    kill pid\r\n+    @master.puts \"quit\"\r\n \r\n     pid = spawn_console\r\n \r\n     write_prompt \"Post.count\", \"=> 0\"\r\n     write_prompt \"Post.transaction { Post.create; raise }\"\r\n     write_prompt \"Post.count\", \"=> 0\"\r\n-  ensure\r\n-    kill pid if pid\r\n+    @master.puts \"quit\"\r\n   end\r\n end\r\n```\r\n\r\nI basically want to avoid having special cases for different OSes.", "_id": {"$oid": "523d0e40bd354364b900449c"}, "html_url": "https://github.com/rails/rails/pull/9761#issuecomment-15299227"}
