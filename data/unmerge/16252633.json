{"body": "The idea behind this was that @tenderlove eventually wants relations to be cached with binds. Now find_by ends up calling build_where, where the binding would be handled. Attributes would contain only the bind params instead of real values after that point, and it would be safer to dup them at this point to prevent similar cases.\r\n<pre><code>\r\nfind_by(attributes) || create(attributes.dup , &block)\r\n</code></pre>\r\nWouldn't it be too late to dup the attributes after find_by is visited, given it might override them even if it returns false?", "url": "https://api.github.com/repos/rails/rails/issues/comments/16252633", "created_at": "2013-04-11T18:28:33Z", "html_url": "https://github.com/rails/rails/pull/10181#issuecomment-16252633", "updated_at": "2013-04-11T18:29:40Z", "repo": "rails", "issue_id": 10181, "user": {"following_url": "https://api.github.com/users/Noemj/following{/other_user}", "events_url": "https://api.github.com/users/Noemj/events{/privacy}", "organizations_url": "https://api.github.com/users/Noemj/orgs", "url": "https://api.github.com/users/Noemj", "gists_url": "https://api.github.com/users/Noemj/gists{/gist_id}", "html_url": "https://github.com/Noemj", "subscriptions_url": "https://api.github.com/users/Noemj/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/907eb8b0459742d210a5f6020fcf3633?d=https%3A%2F%2Fidenticons.github.com%2Febc7e5975e50dd4e5fd644bb38e85fac.png", "repos_url": "https://api.github.com/users/Noemj/repos", "received_events_url": "https://api.github.com/users/Noemj/received_events", "gravatar_id": "907eb8b0459742d210a5f6020fcf3633", "starred_url": "https://api.github.com/users/Noemj/starred{/owner}{/repo}", "login": "Noemj", "type": "User", "id": 948418, "followers_url": "https://api.github.com/users/Noemj/followers"}, "owner": "rails", "_id": {"$oid": "5237e271bd3543c151009022"}, "id": 16252633, "issue_url": "https://api.github.com/repos/rails/rails/issues/10181"}
