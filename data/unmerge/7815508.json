{"body": "It's not possible to subclass native exception because there's no such thing. Even Marshal throws two different exceptions: `TypeError` and `ArgumentError` depending on input. And Marshal is just one implementation of many which can be injected through constructor. For example the default json thing would give `MultiJson::DecodeError`. In ideal world exceptions would be part of serializer's contract, but that's what we have in practice.\n\nThis gets us back to my point with reusing `InvalidSignature`: it won't break existing clients. I agree with you in that it's a bit of a stretch to call successfully verified string rejected by serializer as tampered. But alternative is mush weaker encapsulation: users of verifier class should now know that there's such thing as deserialization and that it happens when signature is verified. On more practical side, what value can such exposure provide? I can hardly think of any useful fallback behavior other than ignoring such messages. Verifier doesn't give access to verified `data` string and the only way to get something into it is to discard message and generate a new one.", "url": "https://api.github.com/repos/rails/rails/issues/comments/7815508", "created_at": "2012-08-17T11:22:01Z", "html_url": "https://github.com/rails/rails/pull/7348#issuecomment-7815508", "updated_at": "2012-08-17T11:22:01Z", "repo": "rails", "issue_id": 7348, "user": {"following_url": "https://api.github.com/users/bgipsy/following{/other_user}", "events_url": "https://api.github.com/users/bgipsy/events{/privacy}", "organizations_url": "https://api.github.com/users/bgipsy/orgs", "url": "https://api.github.com/users/bgipsy", "gists_url": "https://api.github.com/users/bgipsy/gists{/gist_id}", "html_url": "https://github.com/bgipsy", "subscriptions_url": "https://api.github.com/users/bgipsy/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/8cf18195d36be3f774344820b1302c62?d=https%3A%2F%2Fidenticons.github.com%2F119a1021b468c9e4ce558c01672f9e4f.png", "repos_url": "https://api.github.com/users/bgipsy/repos", "received_events_url": "https://api.github.com/users/bgipsy/received_events", "gravatar_id": "8cf18195d36be3f774344820b1302c62", "starred_url": "https://api.github.com/users/bgipsy/starred{/owner}{/repo}", "login": "bgipsy", "type": "User", "id": 90239, "followers_url": "https://api.github.com/users/bgipsy/followers"}, "owner": "rails", "_id": {"$oid": "5237fcf1bd3543c15100ba73"}, "id": 7815508, "issue_url": "https://api.github.com/repos/rails/rails/issues/7348"}
