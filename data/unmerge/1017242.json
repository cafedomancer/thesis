{"body": "@dhh I just ran some benchmarks on a Slicehost VPS. Ruby 1.9.2:\r\n\r\n\r\n    irb(main):017:0> Benchmark.measure do\r\n    irb(main):018:1* 100.times { BCrypt::Password.create('somesecurepassword', :cost => 10) }\r\n    irb(main):019:1> end\r\n    =>   9.180000   0.000000   9.180000 (  9.081898)\r\n\r\nWith the default cost this means each request will take an additional 90ms. IMO pretty significant for APIs.\r\n\r\nBecause the cost is just a multiplier we can step it down to 9 and expect a 50% performance increase:\r\n\r\n\r\n    irb(main):023:0> Benchmark.measure do\r\n    irb(main):024:1* 100.times { BCrypt::Password.create('somesecurepassword', :cost => 9) }\r\n    irb(main):025:1> end\r\n    =>   4.560000   0.000000   4.560000 (  4.660387)\r\n\r\nAnd that is just what we see here. Compared to SHA512:\r\n\r\n    irb(main):026:0> Benchmark.measure do\r\n    irb(main):027:1* 100.times { Digest::SHA512.hexdigest('somesecurepassword') }\r\n    irb(main):028:1> end\r\n    =>   0.000000   0.000000   0.000000 (  0.027072)\r\n\r\nmeans we can step the BCrypt cost down some more for performance and still get better security than SHA512:\r\n\r\n    irb(main):029:0> Benchmark.measure do\r\n    irb(main):030:1* 100.times { BCrypt::Password.create('somesecurepassword', :cost => 2) }\r\n    irb(main):031:1> end\r\n    =>   0.150000   0.000000   0.150000 (  0.172343)\r\n\r\nEach developer could choose the balance of speed/security. If they have some baddass production servers they might want to step it up or even keep the default. But not everybody has access to machines like this in production. Many people are deploying to VPS or EC2. (EC2 might be worse, you never really know what hardware you're on)\r\n\r\n", "url": "https://api.github.com/repos/rails/rails/issues/comments/1017242", "created_at": "2011-04-17T16:56:12Z", "html_url": "https://github.com/rails/rails/pull/285#issuecomment-1017242", "updated_at": "2011-04-17T16:56:12Z", "repo": "rails", "issue_id": 285, "user": {"following_url": "https://api.github.com/users/bcardarella/following{/other_user}", "events_url": "https://api.github.com/users/bcardarella/events{/privacy}", "organizations_url": "https://api.github.com/users/bcardarella/orgs", "url": "https://api.github.com/users/bcardarella", "gists_url": "https://api.github.com/users/bcardarella/gists{/gist_id}", "html_url": "https://github.com/bcardarella", "subscriptions_url": "https://api.github.com/users/bcardarella/subscriptions", "avatar_url": "https://2.gravatar.com/avatar/ed5f3e2d77dcf44a67efa72e09e9f28f?d=https%3A%2F%2Fidenticons.github.com%2F47fa1e27cc0c050aaf8f02272045eca0.png", "repos_url": "https://api.github.com/users/bcardarella/repos", "received_events_url": "https://api.github.com/users/bcardarella/received_events", "gravatar_id": "ed5f3e2d77dcf44a67efa72e09e9f28f", "starred_url": "https://api.github.com/users/bcardarella/starred{/owner}{/repo}", "login": "bcardarella", "type": "User", "id": 18524, "followers_url": "https://api.github.com/users/bcardarella/followers"}, "owner": "rails", "_id": {"$oid": "5238635abd3543c1510124b4"}, "id": 1017242, "issue_url": "https://api.github.com/repos/rails/rails/issues/285"}
