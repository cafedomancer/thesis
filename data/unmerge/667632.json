{"body": "This breaks the mysql2 tests:\r\n\r\n\r\n      1) Error:\r\n    test_average_with_from_option(CalculationsTest):\r\n    NoMethodError: undefined method `to_d' for #<BigDecimal:104c80690,'0.53E2',9(18)>\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:279:in `type_cast_calculated_value'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:207:in `execute_simple_calculation'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:182:in `perform_calculation'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:152:in `calculate'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:66:in `average'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/base.rb:442:in `average'\r\n        test/cases/calculations_test.rb:339:in `test_average_with_from_option'\r\n        /Users/apatterson/.local/lib/ruby/gems/1.9.1/gems/mocha-0.9.10/lib/mocha/integration/mini_test/version_142_and_above.rb:27:in `run'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/callbacks.rb:418:in `_run_setup_callbacks'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'\r\n    \r\n      2) Error:\r\n    test_should_average_field(CalculationsTest):\r\n    NoMethodError: undefined method `to_d' for #<BigDecimal:106020448,'0.53E2',9(18)>\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:279:in `type_cast_calculated_value'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:207:in `execute_simple_calculation'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:182:in `perform_calculation'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:152:in `calculate'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:66:in `average'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/base.rb:442:in `average'\r\n        test/cases/calculations_test.rb:22:in `test_should_average_field'\r\n        /Users/apatterson/.local/lib/ruby/gems/1.9.1/gems/mocha-0.9.10/lib/mocha/integration/mini_test/version_142_and_above.rb:27:in `run'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/callbacks.rb:418:in `_run_setup_callbacks'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'\r\n    \r\n      3) Error:\r\n    test_should_return_decimal_average_of_integer_field(CalculationsTest):\r\n    NoMethodError: undefined method `to_d' for #<BigDecimal:10499c578,'0.35E1',18(18)>\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:279:in `type_cast_calculated_value'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:207:in `execute_simple_calculation'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:182:in `perform_calculation'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:152:in `calculate'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:66:in `average'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/base.rb:442:in `average'\r\n        test/cases/calculations_test.rb:27:in `test_should_return_decimal_average_of_integer_field'\r\n        /Users/apatterson/.local/lib/ruby/gems/1.9.1/gems/mocha-0.9.10/lib/mocha/integration/mini_test/version_142_and_above.rb:27:in `run'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/callbacks.rb:418:in `_run_setup_callbacks'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'\r\n    \r\n      4) Error:\r\n    test_delegates_finds_and_calculations_to_the_base_class(NamedScopeTest):\r\n    NoMethodError: undefined method `to_d' for #<BigDecimal:104903a58,'0.5E0',9(18)>\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:279:in `type_cast_calculated_value'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:207:in `execute_simple_calculation'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:182:in `perform_calculation'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:152:in `calculate'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/relation/calculations.rb:66:in `average'\r\n        /Users/apatterson/git/rails/activerecord/lib/active_record/base.rb:442:in `average'\r\n        test/cases/named_scope_test.rb:47:in `test_delegates_finds_and_calculations_to_the_base_class'\r\n        /Users/apatterson/.local/lib/ruby/gems/1.9.1/gems/mocha-0.9.10/lib/mocha/integration/mini_test/version_142_and_above.rb:27:in `run'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:35:in `block in run'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/callbacks.rb:418:in `_run_setup_callbacks'\r\n        /Users/apatterson/git/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:34:in `run'\r\n    \r\n    2433 tests, 7757 assertions, 0 failures, 4 errors, 0 skips\r\n", "url": "https://api.github.com/repos/rails/rails/issues/comments/667632", "created_at": "2011-01-10T22:36:15Z", "html_url": "https://github.com/rails/rails/pull/160#issuecomment-667632", "updated_at": "2011-01-10T22:36:15Z", "repo": "rails", "issue_id": 160, "user": {"following_url": "https://api.github.com/users/tenderlove/following{/other_user}", "events_url": "https://api.github.com/users/tenderlove/events{/privacy}", "organizations_url": "https://api.github.com/users/tenderlove/orgs", "url": "https://api.github.com/users/tenderlove", "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}", "html_url": "https://github.com/tenderlove", "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/f29327647a9cff5c69618bae420792ea?d=https%3A%2F%2Fidenticons.github.com%2F7c78335a8924215ea5c22fda1aac7b75.png", "repos_url": "https://api.github.com/users/tenderlove/repos", "received_events_url": "https://api.github.com/users/tenderlove/received_events", "gravatar_id": "f29327647a9cff5c69618bae420792ea", "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}", "login": "tenderlove", "type": "User", "id": 3124, "followers_url": "https://api.github.com/users/tenderlove/followers"}, "owner": "rails", "_id": {"$oid": "523866dabd3543c151012856"}, "id": 667632, "issue_url": "https://api.github.com/repos/rails/rails/issues/160"}
