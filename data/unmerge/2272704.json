{"updated_at": "2011-10-03T14:31:59Z", "repo": "rails", "created_at": "2011-10-03T14:31:59Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/2272704", "id": 2272704, "issue_url": "https://api.github.com/repos/rails/rails/issues/3199", "issue_id": 3199, "user": {"repos_url": "https://api.github.com/users/mjtko/repos", "type": "User", "html_url": "https://github.com/mjtko", "starred_url": "https://api.github.com/users/mjtko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjtko/subscriptions", "following_url": "https://api.github.com/users/mjtko/following{/other_user}", "gravatar_id": "be9f8a7e49b430ac89efe1bc8aa1026d", "organizations_url": "https://api.github.com/users/mjtko/orgs", "url": "https://api.github.com/users/mjtko", "gists_url": "https://api.github.com/users/mjtko/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/be9f8a7e49b430ac89efe1bc8aa1026d?d=https%3A%2F%2Fidenticons.github.com%2F88d16337f620f14a9d05a6b5d459802c.png", "id": 206834, "events_url": "https://api.github.com/users/mjtko/events{/privacy}", "login": "mjtko", "received_events_url": "https://api.github.com/users/mjtko/received_events", "followers_url": "https://api.github.com/users/mjtko/followers"}, "body": "While I agree that it would be great to support `--trace`, it didn't work before either - at a guess it's pruned from the ARGV Array somewhere up in the rake code.  How much do you want the subtasks to support `--trace`?  Do you know of any way to interrogate the rake environment for it's current `--trace` setting?\r\n\r\nPutting that to one side, I have found a related issue - with the `ruby;exit` invocation, you lose any subsequent tasks from the command line.  eg. `rake assets:precompile assets:clean` - while a dumb example, it demonstrates the point - I would expect to be left with no assets at the end of that command but, of course, they're all still there.\r\n\r\nI think perhaps a less trivial fix is required for this issue.\r\n\r\nMy feeling is that we should:\r\n\r\n 1. only execute `assets:precompile` (like we are as of this patch)\r\n 2. not be `exit`-ing directly afterwards (need to look back at the earlier issue where this was incorporated) so as not to break the next tasks - I don't think adding them to the re-invocation is sensible because the environment has been messed with by this point.\r\n\r\nWill take a look to see what I can do and update my fork shortly.\r\n\r\nWhile we need to patch up this task for 3.1.1, this is certainly smelling more and more like it should be some kind of rewrite very soon!", "_id": {"$oid": "52383982bd3543c1510100d6"}, "html_url": "https://github.com/rails/rails/pull/3199#issuecomment-2272704"}
