{"updated_at": "2011-11-18T08:06:41Z", "repo": "rails", "created_at": "2011-11-18T08:06:41Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/2786777", "id": 2786777, "issue_url": "https://api.github.com/repos/rails/rails/issues/3661", "issue_id": 3661, "user": {"repos_url": "https://api.github.com/users/lest/repos", "type": "User", "html_url": "https://github.com/lest", "starred_url": "https://api.github.com/users/lest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lest/subscriptions", "following_url": "https://api.github.com/users/lest/following{/other_user}", "gravatar_id": "18efee6ee5a12946d983169eff2540f2", "organizations_url": "https://api.github.com/users/lest/orgs", "url": "https://api.github.com/users/lest", "gists_url": "https://api.github.com/users/lest/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/18efee6ee5a12946d983169eff2540f2?d=https%3A%2F%2Fidenticons.github.com%2F4b7dc121caf2baf0963a047346fc8df6.png", "id": 36079, "events_url": "https://api.github.com/users/lest/events{/privacy}", "login": "lest", "received_events_url": "https://api.github.com/users/lest/received_events", "followers_url": "https://api.github.com/users/lest/followers"}, "body": "I've searched through rails sources, it's used only in tests:\r\n\r\n    ~/code/rails (git)-[master] % ack \"DateTime.local_offset\"\r\n    activerecord/test/cases/migration_test.rb\r\n    627:            assert_equal DateTime.local_offset, bob.moment_of_truth.offset\r\n     \r\n    activerecord/CHANGELOG.md\r\n    1031:*   test_native_types expects DateTime.local_offset instead of DateTime.now.offset; fixes test breakage due to dst transition *Geoff Buesing*\r\n     \r\n    activesupport/test/core_ext/date_time_ext_test.rb\r\n    46:    assert_equal DateTime.civil(2010, 5, 4, 0, 0, 0, DateTime.local_offset), DateTime.civil_from_format(:local, 2010, 5, 4)\r\n    318:      assert_equal Rational(-5, 24), DateTime.local_offset\r\n    321:      assert_equal Rational(-6, 24), DateTime.local_offset\r\n     \r\n    activesupport/test/core_ext/time_ext_test.rb\r\n    596:    assert_equal Time.time_with_datetime_fallback(:local, 2039, 2, 21, 17, 44, 30), DateTime.civil(2039, 2, 21, 17, 44, 30, DateTime.local_offset)\r\n    603:      assert_equal Time.time_with_datetime_fallback(:local, 1900, 2, 21, 17, 44, 30), DateTime.civil(1900, 2, 21, 17, 44, 30, DateTime.local_offset, 0)\r\n    625:    assert_equal Time.local_time(2039, 2, 21, 17, 44, 30), DateTime.civil(2039, 2, 21, 17, 44, 30, DateTime.local_offset)\r\n    628:      assert_equal Time.local_time(1901, 2, 21, 17, 44, 30), DateTime.civil(1901, 2, 21, 17, 44, 30, DateTime.local_offset)\r\n     \r\n    activesupport/CHANGELOG.md\r\n    488:*   test_time_with_datetime_fallback expects DateTime.local_offset instead of DateTime.now.offset *Geoff Buesing*\r\n\r\nAnd it cause tests to fail now in my timezone.\r\n\r\nPS. also all russian time zones affected", "_id": {"$oid": "523833ccbd3543c15100fa7c"}, "html_url": "https://github.com/rails/rails/pull/3661#issuecomment-2786777"}
