{"updated_at": "2012-04-29T17:41:41Z", "repo": "rails", "created_at": "2012-04-29T17:41:41Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/5406924", "id": 5406924, "issue_url": "https://api.github.com/repos/rails/rails/issues/6014", "issue_id": 6014, "user": {"repos_url": "https://api.github.com/users/anderslemke/repos", "type": "User", "html_url": "https://github.com/anderslemke", "starred_url": "https://api.github.com/users/anderslemke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anderslemke/subscriptions", "following_url": "https://api.github.com/users/anderslemke/following{/other_user}", "gravatar_id": "a2b1e44956fa6e0c0c2f7eb7fb648b60", "organizations_url": "https://api.github.com/users/anderslemke/orgs", "url": "https://api.github.com/users/anderslemke", "gists_url": "https://api.github.com/users/anderslemke/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/a2b1e44956fa6e0c0c2f7eb7fb648b60?d=https%3A%2F%2Fidenticons.github.com%2Fcadf41af38762c4e89fe3c057e3ddc76.png", "id": 708095, "events_url": "https://api.github.com/users/anderslemke/events{/privacy}", "login": "anderslemke", "received_events_url": "https://api.github.com/users/anderslemke/received_events", "followers_url": "https://api.github.com/users/anderslemke/followers"}, "body": "Thank you guys for your input. We've been discussing this a lot here on autobutler.dk.\r\n\r\nWe are exploring DCI and are trying to nail how we could keep a set of validations in the same file as the DCI context.\r\n\r\nAn approach that would work \"out of the box\", is to define the validations on the model itself like this:\r\n\r\n    class Offer < ActiveRecord::Base\r\n      with_options :on => :purchase do |context|\r\n        context.validates_presence_of :price\r\n      end\r\n    end\r\n\r\nand then make sure that you use the context `:purchase` when you save your objects. But then you would have to look two places to figure out what is going on on a purchase.", "_id": {"$oid": "5238101dbd3543c15100d60c"}, "html_url": "https://github.com/rails/rails/pull/6014#issuecomment-5406924"}
