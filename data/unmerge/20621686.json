{"issue_url": "https://api.github.com/repos/rails/rails/issues/11357", "repo": "rails", "body": "@urielka - Please read discussions at:\u00a0 #11356 - and - https://github.com/rails/rails/issues/11345#issuecomment-20573490 - it is explained there. Test it yourself to see why both rewinds are necessary and to also see why a rewind needs to occur in ActionDispatch::request#raw_post before @env['RAW_POST_DATA'] is set.\r\n\r\n\r\n\r\n\r\n________________________________\r\n From: Uriel Katz <notifications@github.com>\r\nTo: rails/rails <rails@noreply.github.com> \r\nCc: Adrien Lamothe <alamoz@yahoo.com> \r\nSent: Monday, July 8, 2013 10:11 AM\r\nSubject: Re: [rails] Fix request raw_post_body.rewind in actionpack-4.0.0/lib/action_dispatch/http/request.rb (#11357)\r\n \r\n\r\n\r\nThere is a rewind there already (after the read) do you want both?\r\nI don't think that this is the problem, the real problem (IMHO) is accessing the request.body directly when you do that you bypass raw_post and therefore bypass the @env['RAW_POST_DATA']\r\nAlso I don't think that doing rewind if rewind exists is a good practice,what are the cases that body doesn't have rewind? I suspect that if body is a raw socket then it won't have rewind...\r\n\u2014\r\nReply to this email directly or view it on GitHub.", "_id": {"$oid": "5237d5c2bd3543c151008226"}, "issue_id": 11357, "url": "https://api.github.com/repos/rails/rails/issues/comments/20621686", "html_url": "https://github.com/rails/rails/pull/11357#issuecomment-20621686", "updated_at": "2013-07-08T17:39:59Z", "user": {"subscriptions_url": "https://api.github.com/users/Alamoz/subscriptions", "events_url": "https://api.github.com/users/Alamoz/events{/privacy}", "repos_url": "https://api.github.com/users/Alamoz/repos", "gists_url": "https://api.github.com/users/Alamoz/gists{/gist_id}", "url": "https://api.github.com/users/Alamoz", "login": "Alamoz", "gravatar_id": "acfe9766803c7317f1143d919755d016", "html_url": "https://github.com/Alamoz", "following_url": "https://api.github.com/users/Alamoz/following{/other_user}", "received_events_url": "https://api.github.com/users/Alamoz/received_events", "organizations_url": "https://api.github.com/users/Alamoz/orgs", "avatar_url": "https://2.gravatar.com/avatar/acfe9766803c7317f1143d919755d016?d=https%3A%2F%2Fidenticons.github.com%2Fb9293e1a3e6919cf510a787da16875fd.png", "starred_url": "https://api.github.com/users/Alamoz/starred{/owner}{/repo}", "id": 905505, "followers_url": "https://api.github.com/users/Alamoz/followers", "type": "User"}, "created_at": "2013-07-08T17:25:50Z", "id": 20621686, "owner": "rails"}
