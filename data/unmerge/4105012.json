{"updated_at": "2012-02-22T14:45:24Z", "repo": "rails", "created_at": "2012-02-22T14:35:15Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/4105012", "id": 4105012, "issue_url": "https://api.github.com/repos/rails/rails/issues/5127", "issue_id": 5127, "user": {"repos_url": "https://api.github.com/users/benmmurphy/repos", "type": "User", "html_url": "https://github.com/benmmurphy", "starred_url": "https://api.github.com/users/benmmurphy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benmmurphy/subscriptions", "following_url": "https://api.github.com/users/benmmurphy/following{/other_user}", "gravatar_id": "d586b2a89d2bafb77504ddea33b03fb9", "organizations_url": "https://api.github.com/users/benmmurphy/orgs", "url": "https://api.github.com/users/benmmurphy", "gists_url": "https://api.github.com/users/benmmurphy/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/d586b2a89d2bafb77504ddea33b03fb9?d=https%3A%2F%2Fidenticons.github.com%2F54fb4af779a69dd1f7eb03623b3f1580.png", "id": 392520, "events_url": "https://api.github.com/users/benmmurphy/events{/privacy}", "login": "benmmurphy", "received_events_url": "https://api.github.com/users/benmmurphy/received_events", "followers_url": "https://api.github.com/users/benmmurphy/followers"}, "body": "thanks! that is very close to what i'm looking for.\r\n\r\nunfortunately, it doesn't escape \\u2028 or \\r or \\n so i get a script error\r\n\r\noutput it produces:\r\n\r\n    window.myvar = \"\u2028\\\r\n    '\\u003C\\u003E\\u0026\";\r\n\r\n    1.9.3p0 :004 > ERB::Util.json_escape \"\\r\\n\"\r\n     => \"\\r\\n\"\r\n\r\ni think those characters (not including \\u2028. i think that is javascript specific) need to be escaped in json according to the rfc as well as the other control characters\r\n\r\nhttp://www.ietf.org/rfc/rfc4627\r\n\r\n    The representation of strings is similar to conventions used in the C\r\n    family of programming languages.  A string begins and ends with\r\n    quotation marks.  All Unicode characters may be placed within the\r\n    quotation marks except for the characters that must be escaped:\r\n    quotation mark, reverse solidus, and the control characters (U+0000\r\n    through U+001F). ", "_id": {"$oid": "52381c89bd3543c15100e4df"}, "html_url": "https://github.com/rails/rails/pull/5127#issuecomment-4105012"}
