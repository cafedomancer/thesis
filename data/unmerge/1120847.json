{"body": "Yea it'd be great if you could try to get 1.9 and JRuby to implement matching Thread.current.status behavior.\r\n\r\nMy code only prevents transactions from being committed when the Thread is being killed.  This is how it should be because if the Thread is being killed you have no way of knowing whether the transaction was completed or not (aside from the local var / flow control stuff I talked about in the post).\r\n\r\nThe only issue I see with raising in commit_db_transaction if the Thread is being killed is that (unless you catch that exception) then you won't explicitly call rollback.  But maybe that isn't an issue.", "url": "https://api.github.com/repos/rails/rails/issues/comments/1120847", "created_at": "2011-05-09T01:40:26Z", "html_url": "https://github.com/rails/rails/pull/382#issuecomment-1120847", "updated_at": "2011-05-09T01:40:26Z", "repo": "rails", "issue_id": 382, "user": {"following_url": "https://api.github.com/users/coderrr/following{/other_user}", "events_url": "https://api.github.com/users/coderrr/events{/privacy}", "organizations_url": "https://api.github.com/users/coderrr/orgs", "url": "https://api.github.com/users/coderrr", "gists_url": "https://api.github.com/users/coderrr/gists{/gist_id}", "html_url": "https://github.com/coderrr", "subscriptions_url": "https://api.github.com/users/coderrr/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/af4ce9309f8c4f7fc5cb33e7a5b08c64?d=https%3A%2F%2Fidenticons.github.com%2F5249ee8e0cff02ad6b4cc0ee0e50b7d1.png", "repos_url": "https://api.github.com/users/coderrr/repos", "received_events_url": "https://api.github.com/users/coderrr/received_events", "gravatar_id": "af4ce9309f8c4f7fc5cb33e7a5b08c64", "starred_url": "https://api.github.com/users/coderrr/starred{/owner}{/repo}", "login": "coderrr", "type": "User", "id": 2200, "followers_url": "https://api.github.com/users/coderrr/followers"}, "owner": "rails", "_id": {"$oid": "52386109bd3543c1510122ee"}, "id": 1120847, "issue_url": "https://api.github.com/repos/rails/rails/issues/382"}
