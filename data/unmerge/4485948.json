{"issue_url": "https://api.github.com/repos/rails/rails/issues/5340", "repo": "rails", "body": "I'm not sure about this one.  It seems that it could introduce XSS attacks if somehow user data was entered for the tag name.  For example:\r\n\r\n```ruby\r\ndef test_pwnd\r\n  assert_equal \"<div></div>\", simple_format('hi mom', {}, :wrapper_tag => \"div/><script>alert('pwnd');</script><div\")\r\nend\r\n```\r\n\r\nYou should change the internals to use `content_tag` in order to avoid this attack.\r\n\r\nI think it would be better if we add a method that converts single newlines to br tags and splits the text up on double newlines and returns the list.  That way you can loop over the list and wrap with a `content_tag`.  Then we don't need to change `simple_format` and you'll be able to have custom tags.", "_id": {"$oid": "5238199cbd3543c15100e1cc"}, "issue_id": 5340, "url": "https://api.github.com/repos/rails/rails/issues/comments/4485948", "html_url": "https://github.com/rails/rails/pull/5340#issuecomment-4485948", "updated_at": "2012-03-13T20:53:19Z", "user": {"subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions", "events_url": "https://api.github.com/users/tenderlove/events{/privacy}", "repos_url": "https://api.github.com/users/tenderlove/repos", "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}", "url": "https://api.github.com/users/tenderlove", "login": "tenderlove", "gravatar_id": "f29327647a9cff5c69618bae420792ea", "html_url": "https://github.com/tenderlove", "following_url": "https://api.github.com/users/tenderlove/following{/other_user}", "received_events_url": "https://api.github.com/users/tenderlove/received_events", "organizations_url": "https://api.github.com/users/tenderlove/orgs", "avatar_url": "https://1.gravatar.com/avatar/f29327647a9cff5c69618bae420792ea?d=https%3A%2F%2Fidenticons.github.com%2F7c78335a8924215ea5c22fda1aac7b75.png", "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}", "id": 3124, "followers_url": "https://api.github.com/users/tenderlove/followers", "type": "User"}, "created_at": "2012-03-13T20:53:19Z", "id": 4485948, "owner": "rails"}
