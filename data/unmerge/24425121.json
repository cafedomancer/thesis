{"body": "A few questions:\r\n\r\n1. Did the recent change in TimeWithZone (to 3 dp by default) break your app? How? (It'll help to determine what's the right thing to do here.)\r\n\r\n2. Should the default be [3 instead of 0](https://github.com/ersatzryan/rails/commit/28ab79d7c579fa1d76ac868be02b38b02818428a)?\r\n\r\n3. I'm not sure if adding another global option is the right approach here, as you can see there are already a lot of global options for JSON encoding, and it could easily go out of hand. Going forward, I think we need to find ways to remove these options somehow (while maintaining the flexibility). I don't have a perfect solution yet, but maybe something more like this:\r\n\r\n```\r\nclass DateTime\r\n  class_attribute :as_json_format\r\n  self.as_json_format = :standard\r\n\r\n  class_attribute :as_json_precision\r\n  self.as_json_precision = 3\r\n\r\n  def as_json(options = {})\r\n    format = options[:format] || self.class.as_json_format\r\n    precision = options[:precision] || self.class.as_json_precision\r\n\r\n    if format == :legacy\r\n      # ...\r\n    else\r\n      # ... use precision ...\r\n    end\r\n  end\r\nend\r\n```\r\n\r\nPersonally speaking, the ideal outcome is that this is not breaking apps, just inconsistent, in that case we can probably just set it to 3 dp everywhere until we have a better solution than the global configs.", "url": "https://api.github.com/repos/rails/rails/issues/comments/24425121", "created_at": "2013-09-13T21:15:13Z", "html_url": "https://github.com/rails/rails/pull/12226#issuecomment-24425121", "updated_at": "2013-09-13T21:19:43Z", "repo": "rails", "issue_id": 12226, "user": {"following_url": "https://api.github.com/users/chancancode/following{/other_user}", "events_url": "https://api.github.com/users/chancancode/events{/privacy}", "organizations_url": "https://api.github.com/users/chancancode/orgs", "url": "https://api.github.com/users/chancancode", "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}", "html_url": "https://github.com/chancancode", "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/22bb3e56828870ee9a0dd93aeadbe04a?d=https%3A%2F%2Fidenticons.github.com%2F8b407b57d02a2e41c7ba54441391d9ce.png", "repos_url": "https://api.github.com/users/chancancode/repos", "received_events_url": "https://api.github.com/users/chancancode/received_events", "gravatar_id": "22bb3e56828870ee9a0dd93aeadbe04a", "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}", "login": "chancancode", "type": "User", "id": 55829, "followers_url": "https://api.github.com/users/chancancode/followers"}, "owner": "rails", "_id": {"$oid": "5237cdbabd3543c1510079bf"}, "id": 24425121, "issue_url": "https://api.github.com/repos/rails/rails/issues/12226"}
