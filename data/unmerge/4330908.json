{"updated_at": "2012-03-05T20:22:13Z", "repo": "rails", "created_at": "2012-03-05T20:22:13Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/4330908", "id": 4330908, "issue_url": "https://api.github.com/repos/rails/rails/issues/5034", "issue_id": 5034, "user": {"repos_url": "https://api.github.com/users/hmcfletch/repos", "type": "User", "html_url": "https://github.com/hmcfletch", "starred_url": "https://api.github.com/users/hmcfletch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hmcfletch/subscriptions", "following_url": "https://api.github.com/users/hmcfletch/following{/other_user}", "gravatar_id": "fde6d4570c6079da6cb6d129f1638364", "organizations_url": "https://api.github.com/users/hmcfletch/orgs", "url": "https://api.github.com/users/hmcfletch", "gists_url": "https://api.github.com/users/hmcfletch/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/fde6d4570c6079da6cb6d129f1638364?d=https%3A%2F%2Fidenticons.github.com%2Fa3acb1a52dcaf379f44c93dc844acd62.png", "id": 32283, "events_url": "https://api.github.com/users/hmcfletch/events{/privacy}", "login": "hmcfletch", "received_events_url": "https://api.github.com/users/hmcfletch/received_events", "followers_url": "https://api.github.com/users/hmcfletch/followers"}, "body": "I was going to do my rebase tonight and resubmit the pull request. I can try to address the issue of separate secrets as well. Briefly looking at `Cookie` and `MessageEncryptor` I tentatively propose the following for now:\r\n\r\nIn `MessageEncryptor`\r\n\r\n* Add an options key for `verifier_secret` that falls back to `secret` if absent\r\n* Raise warning/deprecation if `secret` and `verify_secret` are the same\r\n* A `verifier_secret` argument could made required at a later time\r\n\r\nIn `Cookies`\r\n\r\n* Add an `ENCRYPTION_TOKEN_KEY = \"action_dispatch.encryption_secret_token\".freeze` to `Cookies`\r\n* Look for `ENCRYPTION_TOKEN_KEY` while initializing, but fall back to `TOKEN_KEY` if absent\r\n* Raise a warning in `EncryptedCookie` saying that `action_dispatch.encryption_secret_token` is needed if `secret` and `encryption_secret` are the same\r\n\r\nThoughts?", "_id": {"$oid": "52381d9dbd3543c15100e5dd"}, "html_url": "https://github.com/rails/rails/pull/5034#issuecomment-4330908"}
