{"body": "> Some requests could be consuming third-party APIs like Twitter, FB or GitHub instead of relying on a connection from database pool. Also, non RDBMS have a different memory allocation scheme.\n\n@rosenfeld At least MongoDB has the same memory allocation scheme, though the default stack size has been reduced to 1MB since 2.0.\n\n> I don't know what Rails apps you work on, but I have never worked on any site where the mean response time was 50ms.\n\n@tarcieri probably because your app renders views. I find rendering views is the most CPU intensive part in Rails, but my app is mostly a bunch of APIs that feed JSON to iOS/Android devices. (and we're fanatical about keeping the json size as small as possible). In our case, response time ranges from 20ms to 200ms, average being just above 50ms. We off-load the rendering CPU cost to the client devices.\n\nOr, if you're on EC2, it's because EC2 is extremely slow. :) Typically 2x to 3x slower than VPS or self hosted.\n\n> Payment gateways.\n\nAh, that is a legit and great example, in that case I would choose Puma over Unicorn. :) It makes sense to use threaded server for **always slow** external services. Maybe I'm too spoiled by Stripe and Apple's reasonably fast In-App Purchase verification server.\n\n> Our main bottleneck right now is the garbage collector.\n\nI also work on a significantly large Rails app with 15 million users on mobile devices, and there I have experienced many kinds of problems, but never seen GC to become the primary source of bottleneck. Again, probably because we don't render large HTML views, mostly JSON.", "url": "https://api.github.com/repos/rails/rails/issues/comments/6513791", "created_at": "2012-06-22T17:39:36Z", "html_url": "https://github.com/rails/rails/pull/6685#issuecomment-6513791", "updated_at": "2012-06-22T17:54:34Z", "repo": "rails", "issue_id": 6685, "user": {"following_url": "https://api.github.com/users/kenn/following{/other_user}", "events_url": "https://api.github.com/users/kenn/events{/privacy}", "organizations_url": "https://api.github.com/users/kenn/orgs", "url": "https://api.github.com/users/kenn", "gists_url": "https://api.github.com/users/kenn/gists{/gist_id}", "html_url": "https://github.com/kenn", "subscriptions_url": "https://api.github.com/users/kenn/subscriptions", "avatar_url": "https://2.gravatar.com/avatar/f3c42aa7989a9a0c37709abc08a6327f?d=https%3A%2F%2Fidenticons.github.com%2F20d749bc05f47d2bd3026ce457dcfd8e.png", "repos_url": "https://api.github.com/users/kenn/repos", "received_events_url": "https://api.github.com/users/kenn/received_events", "gravatar_id": "f3c42aa7989a9a0c37709abc08a6327f", "starred_url": "https://api.github.com/users/kenn/starred{/owner}{/repo}", "login": "kenn", "type": "User", "id": 10350, "followers_url": "https://api.github.com/users/kenn/followers"}, "owner": "rails", "_id": {"$oid": "52380552bd3543c15100c742"}, "id": 6513791, "issue_url": "https://api.github.com/repos/rails/rails/issues/6685"}
