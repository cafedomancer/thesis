{"body": "```\r\n    def reset_session\r\n      if session && session.respond_to?(:destroy)\r\n        session.destroy\r\n      else\r\n        self.session = {}\r\n      end\r\n      @env['action_dispatch.request.flash_hash'] = nil\r\n    end\r\n```\r\nexactly same thing? It destorys the session, refresh token just updates current token. This can be useful to avoid double submit and replay attack with same token. But destroying user session logs him out, do you think payment gateway should logout user after each payment? :)", "url": "https://api.github.com/repos/rails/rails/issues/comments/14149028", "created_at": "2013-02-27T00:29:29Z", "html_url": "https://github.com/rails/rails/pull/9376#issuecomment-14149028", "updated_at": "2013-02-27T00:29:29Z", "repo": "rails", "issue_id": 9376, "user": {"following_url": "https://api.github.com/users/homakov/following{/other_user}", "events_url": "https://api.github.com/users/homakov/events{/privacy}", "organizations_url": "https://api.github.com/users/homakov/orgs", "url": "https://api.github.com/users/homakov", "gists_url": "https://api.github.com/users/homakov/gists{/gist_id}", "html_url": "https://github.com/homakov", "subscriptions_url": "https://api.github.com/users/homakov/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/d2881b5d4c082996a62f23055b61956d?d=https%3A%2F%2Fidenticons.github.com%2Fc1464ded796adc7ac65355e3cc0df165.png", "repos_url": "https://api.github.com/users/homakov/repos", "received_events_url": "https://api.github.com/users/homakov/received_events", "gravatar_id": "d2881b5d4c082996a62f23055b61956d", "starred_url": "https://api.github.com/users/homakov/starred{/owner}{/repo}", "login": "homakov", "type": "User", "id": 174693, "followers_url": "https://api.github.com/users/homakov/followers"}, "owner": "rails", "_id": {"$oid": "5237ea6bbd3543c1510099c5"}, "id": 14149028, "issue_url": "https://api.github.com/repos/rails/rails/issues/9376"}
