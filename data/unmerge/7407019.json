{"updated_at": "2012-07-31T18:21:00Z", "repo": "rails", "created_at": "2012-07-31T18:21:00Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/7407019", "id": 7407019, "issue_url": "https://api.github.com/repos/rails/rails/issues/6524", "issue_id": 6524, "user": {"repos_url": "https://api.github.com/users/iwiznia/repos", "type": "User", "html_url": "https://github.com/iwiznia", "starred_url": "https://api.github.com/users/iwiznia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iwiznia/subscriptions", "following_url": "https://api.github.com/users/iwiznia/following{/other_user}", "gravatar_id": "f81560e8e8743d0df6a467b88df31bbc", "organizations_url": "https://api.github.com/users/iwiznia/orgs", "url": "https://api.github.com/users/iwiznia", "gists_url": "https://api.github.com/users/iwiznia/gists{/gist_id}", "avatar_url": "https://1.gravatar.com/avatar/f81560e8e8743d0df6a467b88df31bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe0eabf980955325a87a94106b85d1664.png", "id": 521248, "events_url": "https://api.github.com/users/iwiznia/events{/privacy}", "login": "iwiznia", "received_events_url": "https://api.github.com/users/iwiznia/received_events", "followers_url": "https://api.github.com/users/iwiznia/followers"}, "body": "I'm with sskirby on bringing it back (at least disabled by default). There are some cases that IM is a huge win, specially in a case like this one:\n```ruby\nclass Country < ActiveRecord::Base\n  has_many :states\nend\n\nclass State < ActiveRecord::Base\n  belongs_to :country\n\n  def full_name\n    \"#{self.country.name} - #{self.name}\"\n  end\nend\n\nCountry.include(:states).map(&:full_name)\n```\n\nIn this simple example, without IM the countries will be fetched from db for each state (and in separate queries), although they are already loaded. The only solution without IM is to call it like this:\n```ruby\nCountry.include(:states => :country).map(&:full_name)\n```\nThat avoids the n+1 queries for the countries, but we are loading the same data twice...\n\nAlso, I don't think that dropping a functionality because it adds time to the tests is a good idea... It should be dropped if it's not useful or buggy, not to save test time...", "_id": {"$oid": "523e4e93bd354364b900ee94"}, "html_url": "https://github.com/rails/rails/pull/6524#issuecomment-7407019"}
