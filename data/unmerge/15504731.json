{"updated_at": "2013-03-27T05:11:42Z", "repo": "rails", "created_at": "2013-03-27T05:11:42Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/15504731", "id": 15504731, "issue_url": "https://api.github.com/repos/rails/rails/issues/9496", "issue_id": 9496, "user": {"repos_url": "https://api.github.com/users/tonyla/repos", "type": "User", "html_url": "https://github.com/tonyla", "starred_url": "https://api.github.com/users/tonyla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tonyla/subscriptions", "following_url": "https://api.github.com/users/tonyla/following{/other_user}", "gravatar_id": "0a47db2fb3810fe8614856dcb62137bb", "organizations_url": "https://api.github.com/users/tonyla/orgs", "url": "https://api.github.com/users/tonyla", "gists_url": "https://api.github.com/users/tonyla/gists{/gist_id}", "avatar_url": "https://2.gravatar.com/avatar/0a47db2fb3810fe8614856dcb62137bb?d=https%3A%2F%2Fidenticons.github.com%2F21d35e82a5c98554a8f5afc37b6d40cd.png", "id": 33638, "events_url": "https://api.github.com/users/tonyla/events{/privacy}", "login": "tonyla", "received_events_url": "https://api.github.com/users/tonyla/received_events", "followers_url": "https://api.github.com/users/tonyla/followers"}, "body": "I did some more digging and found out that the reloading behaviour was being caused by https://github.com/wavii/rails-dev-tweaks/pull/9 (A gem that I use). I'll detail the explanation below just in case it helps someone in the future.\r\n\r\nThe code does behave as expected but it is very deceiving when reading it. That is because the line \r\n\r\n~~~ruby\r\nActionDispatch::Reloader.to_prepare(:prepend => true){ reloader.execute }\r\n~~~\r\n\r\nLooks like it will reload on every request. But reloaders are not actually run unless #reload_dependencies? is true.\r\n\r\n~~~ruby\r\n    def reload_dependencies? #:nodoc:\r\n      config.reload_classes_only_on_change != true || reloaders.map(&:updated?).any?\r\n    end\r\n~~~\r\n\r\nAs you can see it checks to see if any reloader #updated?. It will not reload the code on ever request.", "_id": {"$oid": "5237e8abbd3543c15100972c"}, "html_url": "https://github.com/rails/rails/pull/9496#issuecomment-15504731"}
