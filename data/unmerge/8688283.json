{"body": "How about if this was implemented using the usual `.limit` syntax? For example,\n\n    User.where(:name => 'Bob').limit(10).find_in_batches(:batch_size => 10)\n\nwould yield one batch of 10, while\n\n    User.where(:name => 'Bob').limit(25).find_in_batches(:batch_size => 10)\n\nwould result in 2 batches of 10 and one batch of 5.\n\nUnless I'm missing something, you should be able to extract the limit condition from base relation, then loop until that has been fulfilled. \n\nMy use case is slightly different - I ran into this while developing a background task against well-populated test DB. I tried to throw a limit condition on the query as the 'cleanest' way to make it run faster while I'm still not 100% sure about the implementation and would be running it repeatedly.\n\nAs I see it, my approach would get rid of a unintuitive limitation without introducing new parameters.\n\nAre you fundamentally against such changes, or should I turn this comment into a pull request?", "url": "https://api.github.com/repos/rails/rails/issues/comments/8688283", "created_at": "2012-09-19T11:44:44Z", "html_url": "https://github.com/rails/rails/pull/5696#issuecomment-8688283", "updated_at": "2012-09-19T11:44:44Z", "repo": "rails", "issue_id": 5696, "user": {"following_url": "https://api.github.com/users/tmikoss/following{/other_user}", "events_url": "https://api.github.com/users/tmikoss/events{/privacy}", "organizations_url": "https://api.github.com/users/tmikoss/orgs", "url": "https://api.github.com/users/tmikoss", "gists_url": "https://api.github.com/users/tmikoss/gists{/gist_id}", "html_url": "https://github.com/tmikoss", "subscriptions_url": "https://api.github.com/users/tmikoss/subscriptions", "avatar_url": "https://2.gravatar.com/avatar/d65823cc5fa0cd69e10dd1c7572ea456?d=https%3A%2F%2Fidenticons.github.com%2F653580f6131165a2d046a9d7802f3a64.png", "repos_url": "https://api.github.com/users/tmikoss/repos", "received_events_url": "https://api.github.com/users/tmikoss/received_events", "gravatar_id": "d65823cc5fa0cd69e10dd1c7572ea456", "starred_url": "https://api.github.com/users/tmikoss/starred{/owner}{/repo}", "login": "tmikoss", "type": "User", "id": 222126, "followers_url": "https://api.github.com/users/tmikoss/followers"}, "owner": "rails", "_id": {"$oid": "523eab4bbd354364b9011d11"}, "id": 8688283, "issue_url": "https://api.github.com/repos/rails/rails/issues/5696"}
