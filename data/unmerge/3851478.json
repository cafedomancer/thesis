{"updated_at": "2012-02-07T16:52:47Z", "repo": "rails", "created_at": "2012-02-07T16:51:49Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/3851478", "id": 3851478, "issue_url": "https://api.github.com/repos/rails/rails/issues/4165", "issue_id": 4165, "user": {"repos_url": "https://api.github.com/users/bsodmike/repos", "type": "User", "html_url": "https://github.com/bsodmike", "starred_url": "https://api.github.com/users/bsodmike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bsodmike/subscriptions", "following_url": "https://api.github.com/users/bsodmike/following{/other_user}", "gravatar_id": "dcfde00ac1fae8b575b2f9b39c7e244b", "organizations_url": "https://api.github.com/users/bsodmike/orgs", "url": "https://api.github.com/users/bsodmike", "gists_url": "https://api.github.com/users/bsodmike/gists{/gist_id}", "avatar_url": "https://0.gravatar.com/avatar/dcfde00ac1fae8b575b2f9b39c7e244b?d=https%3A%2F%2Fidenticons.github.com%2F441cb0e69bc13bc7cdbd95e889e03573.png", "id": 368260, "events_url": "https://api.github.com/users/bsodmike/events{/privacy}", "login": "bsodmike", "received_events_url": "https://api.github.com/users/bsodmike/received_events", "followers_url": "https://api.github.com/users/bsodmike/followers"}, "body": "As just discussed with @waseem, one could apply a similar approach to the [following based on EpicFail](https://github.com/bsodmike/EpicFail/blob/master/lib/epic_fail/exceptions/rack.rb):\r\n\r\n```ruby\r\nmodule EpicFail\r\n  module Exceptions\r\n    class Rack\r\n      #...\r\n      \r\n      def notify_exception(e, env)\r\n        # Exception: backtrace  exception  message\r\n        EpicFail::Failure.create!(:exception => \"#{e.class}\", :message => \"#{e.message}\", :backtrace => \"#{e.backtrace}\")\r\n      end\r\n    end\r\n  end\r\nend\r\n```\r\n\r\nand perform\r\n\r\n```ruby\r\nActiveRecord::Migrator.current_version != (ActiveRecord::Migrator.migrations(migrations_paths).last.try(:version)||0)\r\n```\r\n\r\nto detect a pending migration.  `e.message` can be updated accordingly and presented in the rendered error.  All of the above as per @jonleighton still apply.  Thoughts?", "_id": {"$oid": "52382bb5bd3543c15100f14e"}, "html_url": "https://github.com/rails/rails/pull/4165#issuecomment-3851478"}
