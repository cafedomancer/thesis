{"body": "I just found a failing test in the query cache module:\r\n\r\n```\r\n  1) Failure:\r\ntest_count_queries_with_cache(QueryCacheTest)\r\n    [/home/eserra/src/rails/activerecord/lib/active_record/test_case.rb:50:in `assert_queries'\r\n     /home/eserra/src/rails/activerecord/test/cases/query_cache_test.rb:97:in `test_count_queries_with_cache'\r\n     /home/eserra/src/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:26:in `cache'\r\n     /home/eserra/src/rails/activerecord/lib/active_record/query_cache.rb:12:in `cache'\r\n     /home/eserra/src/rails/activerecord/test/cases/query_cache_test.rb:96:in `test_count_queries_with_cache'\r\n     /home/eserra/src/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'\r\n     /home/eserra/src/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:67:in `run'\r\n     /home/eserra/src/rails/activesupport/lib/active_support/callbacks.rb:408:in `_run_setup_callbacks'\r\n     /home/eserra/src/rails/activesupport/lib/active_support/callbacks.rb:81:in `send'\r\n     /home/eserra/src/rails/activesupport/lib/active_support/callbacks.rb:81:in `run_callbacks'\r\n     /home/eserra/src/rails/activesupport/lib/active_support/testing/setup_and_teardown.rb:65:in `run']:\r\n2 instead of 1 queries were executed.\r\nQueries:\r\nSELECT COUNT(*) FROM \"tasks\" \r\nSELECT COUNT(*) FROM \"tasks\" .\r\n<1> expected but was\r\n<2>.\r\n\r\n```\r\nIt seems to be somehow related to my patch, but I don't get how to fix it.\r\nCould somebody help?", "url": "https://api.github.com/repos/rails/rails/issues/comments/1355625", "created_at": "2011-06-12T18:19:40Z", "html_url": "https://github.com/rails/rails/pull/1637#issuecomment-1355625", "updated_at": "2011-06-12T18:19:40Z", "repo": "rails", "issue_id": 1637, "user": {"following_url": "https://api.github.com/users/eserra/following{/other_user}", "events_url": "https://api.github.com/users/eserra/events{/privacy}", "organizations_url": "https://api.github.com/users/eserra/orgs", "url": "https://api.github.com/users/eserra", "gists_url": "https://api.github.com/users/eserra/gists{/gist_id}", "html_url": "https://github.com/eserra", "subscriptions_url": "https://api.github.com/users/eserra/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/f455ec9bbfad5ee016547d45810e4725?d=https%3A%2F%2Fidenticons.github.com%2F966d2ac17856d7bd2660eb6db8b7b6b6.png", "repos_url": "https://api.github.com/users/eserra/repos", "received_events_url": "https://api.github.com/users/eserra/received_events", "gravatar_id": "f455ec9bbfad5ee016547d45810e4725", "starred_url": "https://api.github.com/users/eserra/starred{/owner}{/repo}", "login": "eserra", "type": "User", "id": 244514, "followers_url": "https://api.github.com/users/eserra/followers"}, "owner": "rails", "_id": {"$oid": "523fff7bbd354364b901d2a3"}, "id": 1355625, "issue_url": "https://api.github.com/repos/rails/rails/issues/1637"}
