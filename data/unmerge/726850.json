{"updated_at": "2011-01-31T23:30:53Z", "repo": "rails", "created_at": "2011-01-31T23:30:53Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/726850", "id": 726850, "issue_url": "https://api.github.com/repos/rails/rails/issues/169", "issue_id": 169, "user": {"repos_url": "https://api.github.com/users/amw/repos", "type": "User", "html_url": "https://github.com/amw", "starred_url": "https://api.github.com/users/amw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amw/subscriptions", "following_url": "https://api.github.com/users/amw/following{/other_user}", "gravatar_id": "550103fa7ffccf284804c3eecc1d307b", "organizations_url": "https://api.github.com/users/amw/orgs", "url": "https://api.github.com/users/amw", "gists_url": "https://api.github.com/users/amw/gists{/gist_id}", "avatar_url": "https://0.gravatar.com/avatar/550103fa7ffccf284804c3eecc1d307b?d=https%3A%2F%2Fidenticons.github.com%2F8bb2c536d0fb580ce30b60ca38f773dd.png", "id": 29783, "events_url": "https://api.github.com/users/amw/events{/privacy}", "login": "amw", "received_events_url": "https://api.github.com/users/amw/received_events", "followers_url": "https://api.github.com/users/amw/followers"}, "body": "Umm, I think. I can add some more or make those better. Those tests rely on unmodified fixture since I only check results count. I could make them better by verifying result attributes.\r\n\r\nLet's see what you come up with and if you provide me with a link to your branch I'll do some testing on my own and add more/better tests if needed.\r\n\r\nIf modifying rails API with 3.1 would be an option then this whole thing could be easily implemented by requiring users to define default and named scopes with blocks. Like:\r\n\r\nscope :published { where(:published => true) }\r\n\r\nInside scope method we would run the block proc inside unscoped.scoping { } and get a relation clean from whatever default scope currently returns. The only problem is that currently the block argument to scope is used to pass extensions.\r\n\r\nBut if you want to keep the API unchanged then I'm happy to see your take at the implementation.", "_id": {"$oid": "523866a7bd3543c15101281f"}, "html_url": "https://github.com/rails/rails/pull/169#issuecomment-726850"}
