{"body": "Actually, technically, rails does not require execjs (execjs is not a dependency, direct or indirect, of the Rails gem), although Rails new app generator generates a local app Gemfile that, by default, does depend (indirectly) on execjs. It is theoretically possible to use Rails without execjs though (without the asset pipeline). \r\n\r\nHowever, @tenderlove . I agree that Rails having to detect JS runtime, duplicating execjs code, is unfortunate. What do you think about actually making execjs a dependency of railties -- then the generator would be able to ask ExecJS::Runtimes.autodetect, instead of having to duplicate that code itself. \r\n\r\nThe downside is another dependency (that isn't actually used for anything BUT this in Rails code proper); however, execjs is a pretty small, simple, and pure ruby gem. And the way to be sure if execjs will find a runtime is, well, to ask execjs, rather than try to execute seperate logic that one hopes will decide the same thing as (possibly future versions of) execjs. And as long as rails generator generates an app that needs execjs, the only way to get a 'rails new whatever' that can actually boot (like every newly generated rails app could before asset pipeline), is to check if execjs will find a runtime, and if not add therubyracer (or equivalent) to Gemfile. ", "url": "https://api.github.com/repos/rails/rails/issues/comments/3458580", "created_at": "2012-01-12T05:15:53Z", "html_url": "https://github.com/rails/rails/pull/4407#issuecomment-3458580", "updated_at": "2012-01-12T05:16:46Z", "repo": "rails", "issue_id": 4407, "user": {"following_url": "https://api.github.com/users/jrochkind/following{/other_user}", "events_url": "https://api.github.com/users/jrochkind/events{/privacy}", "organizations_url": "https://api.github.com/users/jrochkind/orgs", "url": "https://api.github.com/users/jrochkind", "gists_url": "https://api.github.com/users/jrochkind/gists{/gist_id}", "html_url": "https://github.com/jrochkind", "subscriptions_url": "https://api.github.com/users/jrochkind/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/6a13e655e637138f8d571cec3f9cea76?d=https%3A%2F%2Fidenticons.github.com%2Fd54ea80e1dddb765bab019d4dfe36c23.png", "repos_url": "https://api.github.com/users/jrochkind/repos", "received_events_url": "https://api.github.com/users/jrochkind/received_events", "gravatar_id": "6a13e655e637138f8d571cec3f9cea76", "starred_url": "https://api.github.com/users/jrochkind/starred{/owner}{/repo}", "login": "jrochkind", "type": "User", "id": 149304, "followers_url": "https://api.github.com/users/jrochkind/followers"}, "owner": "rails", "_id": {"$oid": "523826bfbd3543c15100ee08"}, "id": 3458580, "issue_url": "https://api.github.com/repos/rails/rails/issues/4407"}
