{"issue_url": "https://api.github.com/repos/rails/rails/issues/7541", "repo": "rails", "body": "@pixeltrix - most of the code that needs to use an STI type column uses `sti_name`, as that's technically required for things to work correctly for both settings of `store_full_sti_class`. There are two places I could find (on a rough search) that still make assumptions:\n\n* https://github.com/rails/rails/blob/master/activerecord/lib/active_record/fixtures.rb#L574 - this assumes it can pull the value corresponding to `inheritance_column` and constantize it. \n\n* https://github.com/rails/rails/blob/master/activerecord/lib/active_record/persistence.rb#L158 - this assumes the correct value is `class.name`, which isn't even correct if `store_full_sti_class` is false.\n\nAt a minimum, the two points noted above should be fixed, so that people who want to override the existing behavior from outside (by, for instance, patching `sti_name` and `find_sti_class`) won't have problems.", "_id": {"$oid": "5237fa83bd3543c15100b64a"}, "issue_id": 7541, "url": "https://api.github.com/repos/rails/rails/issues/comments/8869247", "html_url": "https://github.com/rails/rails/pull/7541#issuecomment-8869247", "updated_at": "2012-09-25T20:36:54Z", "user": {"subscriptions_url": "https://api.github.com/users/al2o3cr/subscriptions", "events_url": "https://api.github.com/users/al2o3cr/events{/privacy}", "repos_url": "https://api.github.com/users/al2o3cr/repos", "gists_url": "https://api.github.com/users/al2o3cr/gists{/gist_id}", "url": "https://api.github.com/users/al2o3cr", "login": "al2o3cr", "gravatar_id": "6883e5ef03484d4fcef507d7b4f1d243", "html_url": "https://github.com/al2o3cr", "following_url": "https://api.github.com/users/al2o3cr/following{/other_user}", "received_events_url": "https://api.github.com/users/al2o3cr/received_events", "organizations_url": "https://api.github.com/users/al2o3cr/orgs", "avatar_url": "https://2.gravatar.com/avatar/6883e5ef03484d4fcef507d7b4f1d243?d=https%3A%2F%2Fidenticons.github.com%2Fb20bb95ab626d93fd976af958fbc61ba.png", "starred_url": "https://api.github.com/users/al2o3cr/starred{/owner}{/repo}", "id": 1191, "followers_url": "https://api.github.com/users/al2o3cr/followers", "type": "User"}, "created_at": "2012-09-25T20:36:54Z", "id": 8869247, "owner": "rails"}
