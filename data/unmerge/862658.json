{"body": "Firstly look at some existing tests for something related to what you're trying to do, e.g:\r\nhttps://github.com/rails/rails/blob/master/activerecord/test/cases/relations_test.rb#L658-674\r\n\r\nIt turns out there's no tests for empty? so it'd be good to add one for the simple case as well. You'd want to test that the empty? doesn't load the records if they're not loaded and also that it doesn't issue a query if the records are loaded. \r\n\r\nAlso you need to change your implementation as it's doing two queries", "url": "https://api.github.com/repos/rails/rails/issues/comments/862658", "created_at": "2011-03-12T00:34:13Z", "html_url": "https://github.com/rails/rails/pull/218#issuecomment-862658", "updated_at": "2011-03-12T00:34:13Z", "repo": "rails", "issue_id": 218, "user": {"following_url": "https://api.github.com/users/pixeltrix/following{/other_user}", "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}", "organizations_url": "https://api.github.com/users/pixeltrix/orgs", "url": "https://api.github.com/users/pixeltrix", "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}", "html_url": "https://github.com/pixeltrix", "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions", "avatar_url": "https://2.gravatar.com/avatar/b14001f2b40640dd6cb63f0e8f1f4869?d=https%3A%2F%2Fidenticons.github.com%2F7cb36e23529e4de4c41460940cc85e6e.png", "repos_url": "https://api.github.com/users/pixeltrix/repos", "received_events_url": "https://api.github.com/users/pixeltrix/received_events", "gravatar_id": "b14001f2b40640dd6cb63f0e8f1f4869", "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}", "login": "pixeltrix", "type": "User", "id": 6321, "followers_url": "https://api.github.com/users/pixeltrix/followers"}, "owner": "rails", "_id": {"$oid": "52386581bd3543c1510126f8"}, "id": 862658, "issue_url": "https://api.github.com/repos/rails/rails/issues/218"}
