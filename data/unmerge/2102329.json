{"body": "@greinacker You make a good point about not wanting to involve rails or middleware.  I wonder, then, whether a two-pronged attack to solve this issue is required.\r\n\r\nIt seems to me that the redirect (rather than duplicate) idea has merit as you want to ensure that cache busting still works - another primary use case for the pipeline - so I would suggest:\r\n\r\n 1. have a rake task (possibly this could be done in precompile) emit redirection language for your web server of choice (I suppose nginx and apache would be the targets) which can be included within their configuration to provide explicit 302 redirects for digest-less assets.  We already have the mapping from digest-less to digested filename in the manifest file, so this would be a translation of that information.\r\n 2. create a middleware as outlined in 82afaa0, which will be called into action as a fallback when accessing the rails app directly.\r\n\r\nThis has the benefit of keeping the configuration where (I believe) it belongs - in the web server - while providing a sane fallback in the shape of the middleware, in case people don't want to jump through that extra configuration hoop for their web server for whatever reason.\r\n\r\nI'm not convinced that this fits in rails core though - perhaps this kind of functionality would be suited to an a subsidiary gem.\r\n\r\nHow does this sound?", "url": "https://api.github.com/repos/rails/rails/issues/comments/2102329", "created_at": "2011-09-15T08:46:33Z", "html_url": "https://github.com/rails/rails/pull/2886#issuecomment-2102329", "updated_at": "2011-09-15T08:51:50Z", "repo": "rails", "issue_id": 2886, "user": {"following_url": "https://api.github.com/users/mjtko/following{/other_user}", "events_url": "https://api.github.com/users/mjtko/events{/privacy}", "organizations_url": "https://api.github.com/users/mjtko/orgs", "url": "https://api.github.com/users/mjtko", "gists_url": "https://api.github.com/users/mjtko/gists{/gist_id}", "html_url": "https://github.com/mjtko", "subscriptions_url": "https://api.github.com/users/mjtko/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/be9f8a7e49b430ac89efe1bc8aa1026d?d=https%3A%2F%2Fidenticons.github.com%2F88d16337f620f14a9d05a6b5d459802c.png", "repos_url": "https://api.github.com/users/mjtko/repos", "received_events_url": "https://api.github.com/users/mjtko/received_events", "gravatar_id": "be9f8a7e49b430ac89efe1bc8aa1026d", "starred_url": "https://api.github.com/users/mjtko/starred{/owner}{/repo}", "login": "mjtko", "type": "User", "id": 206834, "followers_url": "https://api.github.com/users/mjtko/followers"}, "owner": "rails", "_id": {"$oid": "52383e0abd3543c15101053d"}, "id": 2102329, "issue_url": "https://api.github.com/repos/rails/rails/issues/2886"}
