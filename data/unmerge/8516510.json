{"body": "Browsers would not alert in that scenario. They know not to interpret markup within attribute values. The thing that seems to be lost here is that the escaping rules for HTML are different inside of an attribute value than they are outside of an attribute value. That is a concept that seems completely absent from ERB::Util.\n\nThat said, I agree that double escaping for the most common scenario doesn't make sense. In this scenario, you don't really need to call ERB::Util.h - you just need to escape the quotes. I don't expect to convince anyone to make that change (and honestly am not 100% confident it would be the right thing to do).", "url": "https://api.github.com/repos/rails/rails/issues/comments/8516510", "created_at": "2012-09-13T02:24:22Z", "html_url": "https://github.com/rails/rails/pull/7611#issuecomment-8516510", "updated_at": "2012-09-13T02:24:22Z", "repo": "rails", "issue_id": 7611, "user": {"following_url": "https://api.github.com/users/joshuaflanagan/following{/other_user}", "events_url": "https://api.github.com/users/joshuaflanagan/events{/privacy}", "organizations_url": "https://api.github.com/users/joshuaflanagan/orgs", "url": "https://api.github.com/users/joshuaflanagan", "gists_url": "https://api.github.com/users/joshuaflanagan/gists{/gist_id}", "html_url": "https://github.com/joshuaflanagan", "subscriptions_url": "https://api.github.com/users/joshuaflanagan/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/10adb7caa4eff9c02d244172bc8db6df?d=https%3A%2F%2Fidenticons.github.com%2F3592eda3e878dde5bc1bddde6ffabe36.png", "repos_url": "https://api.github.com/users/joshuaflanagan/repos", "received_events_url": "https://api.github.com/users/joshuaflanagan/received_events", "gravatar_id": "10adb7caa4eff9c02d244172bc8db6df", "starred_url": "https://api.github.com/users/joshuaflanagan/starred{/owner}{/repo}", "login": "joshuaflanagan", "type": "User", "id": 81455, "followers_url": "https://api.github.com/users/joshuaflanagan/followers"}, "owner": "rails", "_id": {"$oid": "523ddb11bd354364b900abcf"}, "id": 8516510, "issue_url": "https://api.github.com/repos/rails/rails/issues/7611"}
