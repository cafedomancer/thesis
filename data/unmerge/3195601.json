{"body": "@mikekelly -- Over and over gain you've pointed out that rails supports partial idempotent updates.  This is true, but `update_attributes` and the common idioms of rails (i.e. using `accepts_nested_attributes_for`) often result in a non-idempotent partial update.  Consider this params hash from the [API docs](http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html):\r\n\r\n``` ruby\r\nparams = { :member => {\r\n  :name => 'joe', :posts_attributes => [\r\n    { :title => 'Kari, the awesome Ruby documentation browser!' },\r\n    { :title => 'The egalitarian assumption of the modern citizen' },\r\n    { :title => '', :_destroy => '1' } # this will be ignored\r\n  ]\r\n}}\r\n```\r\n\r\nThis is not idempotent, because every time the `update_attributes` processes this hash, it creates two new posts (one with the title \"Kari, the awesome Ruby documentation browser!\", one with the title \"The egalitarian assumption of the modern citizen\").\r\n\r\nThus the conventions and idioms that rails encourages developers to use result in non-idempotent PUTs. Putting aside the full vs. partial question for a second, the non-idempotency here is a big problem.", "url": "https://api.github.com/repos/rails/rails/issues/comments/3195601", "created_at": "2011-12-18T16:54:58Z", "html_url": "https://github.com/rails/rails/pull/505#issuecomment-3195601", "updated_at": "2011-12-18T16:54:58Z", "repo": "rails", "issue_id": 505, "user": {"following_url": "https://api.github.com/users/myronmarston/following{/other_user}", "events_url": "https://api.github.com/users/myronmarston/events{/privacy}", "organizations_url": "https://api.github.com/users/myronmarston/orgs", "url": "https://api.github.com/users/myronmarston", "gists_url": "https://api.github.com/users/myronmarston/gists{/gist_id}", "html_url": "https://github.com/myronmarston", "subscriptions_url": "https://api.github.com/users/myronmarston/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/42d4590355a1404230fbc9aff4dd377b?d=https%3A%2F%2Fidenticons.github.com%2F6916222172eb021e5d5f0043453078b9.png", "repos_url": "https://api.github.com/users/myronmarston/repos", "received_events_url": "https://api.github.com/users/myronmarston/received_events", "gravatar_id": "42d4590355a1404230fbc9aff4dd377b", "starred_url": "https://api.github.com/users/myronmarston/starred{/owner}{/repo}", "login": "myronmarston", "type": "User", "id": 49391, "followers_url": "https://api.github.com/users/myronmarston/followers"}, "owner": "rails", "_id": {"$oid": "52385f14bd3543c151012154"}, "id": 3195601, "issue_url": "https://api.github.com/repos/rails/rails/issues/505"}
