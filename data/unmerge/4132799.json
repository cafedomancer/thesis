{"updated_at": "2012-02-23T08:55:27Z", "repo": "rails", "created_at": "2012-02-23T08:55:27Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/4132799", "id": 4132799, "issue_url": "https://api.github.com/repos/rails/rails/issues/5135", "issue_id": 5135, "user": {"repos_url": "https://api.github.com/users/mitio/repos", "type": "User", "html_url": "https://github.com/mitio", "starred_url": "https://api.github.com/users/mitio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mitio/subscriptions", "following_url": "https://api.github.com/users/mitio/following{/other_user}", "gravatar_id": "90793237d18f9c12460d11a2db4ee277", "organizations_url": "https://api.github.com/users/mitio/orgs", "url": "https://api.github.com/users/mitio", "gists_url": "https://api.github.com/users/mitio/gists{/gist_id}", "avatar_url": "https://0.gravatar.com/avatar/90793237d18f9c12460d11a2db4ee277?d=https%3A%2F%2Fidenticons.github.com%2F5e21c1e69368d1353258ccfad063bbfa.png", "id": 129307, "events_url": "https://api.github.com/users/mitio/events{/privacy}", "login": "mitio", "received_events_url": "https://api.github.com/users/mitio/received_events", "followers_url": "https://api.github.com/users/mitio/followers"}, "body": "After I looked around, I think I see what you may have had in mind with that \"the place where we're doing the typecast to int\". The place where the typecast is performed is where the knowledge of \"is this value the same as the original one after the typecast or not?\" is contained. Also, I think it is not that trivial to implement, so I would appreciate any suggestions on how to approach this.\r\n\r\nWe would have to be able to somehow compare the following values, either one by one at write_attribute time, or at some other stage:\r\n\r\n    price = Price.find ...\r\n\r\n    price.price = 'foo'\r\n    price.attributes\r\n    price.attributes_before_type_cast\r\n\r\n    # => {\"id\"=>1, \"price\"=>0, \"product_id\"=>1, \"created_at\"=>Wed, 22 Feb 2012 17:22:26 UTC +00:00, \"updated_at\"=>Wed, 22 Feb 2012 17:22:26 UTC +00:00}\r\n    # => {\"id\"=>1, \"price\"=>\"foo\", \"product_id\"=>1, \"created_at\"=>\"2012-02-22 17:22:26.991756\", \"updated_at\"=>\"2012-02-22 17:22:26.991756\"}", "_id": {"$oid": "52381c66bd3543c15100e4ba"}, "html_url": "https://github.com/rails/rails/pull/5135#issuecomment-4132799"}
