{"body": "@dhh: Interesting.  I think I like the API you've suggested, but I have a couple questions about it:\r\n\r\n* How would users enable/disable all observers for all models?  This API seems tied to a particular model class.\r\n* If the `AuditTrail` observer observes multiple models, do you intend for this API to only disable it for `Post` but no other models?\r\n\r\nIt's particularly important to me that we keep some kind of API to make it easy to enable/disable all observers.  Here's how I typically use this (I've written similar code in multiple rails projects now):\r\n\r\n* All observers are enabled by default.\r\n* In a support file loaded by `test_helper.rb` or `spec_helper.rb`, I disable all observers by default.\r\n* I write unit tests for each observer, that enable the observer being tested just for the duration of the test, and trigger the observer by saving/creating/updating the observed model.\r\n* I enable all observers for integration tests.\r\n\r\nI'm thinking we can do something like:\r\n\r\n```ruby\r\nActiveRecord::Base.observers.enable :audit_trail\r\n\r\nActiveRecord::Base.observers.disable :all\r\n```\r\n\r\nSince class methods are inherited by subclasses in ruby, it could be used the way you suggest, but I'm not sure I'd recommend it for the cases where an observer observes multiple classes, simply because it's ambiguous.", "url": "https://api.github.com/repos/rails/rails/issues/comments/1064560", "created_at": "2011-04-27T14:36:27Z", "html_url": "https://github.com/rails/rails/pull/250#issuecomment-1064560", "updated_at": "2011-04-27T14:36:27Z", "repo": "rails", "issue_id": 250, "user": {"following_url": "https://api.github.com/users/myronmarston/following{/other_user}", "events_url": "https://api.github.com/users/myronmarston/events{/privacy}", "organizations_url": "https://api.github.com/users/myronmarston/orgs", "url": "https://api.github.com/users/myronmarston", "gists_url": "https://api.github.com/users/myronmarston/gists{/gist_id}", "html_url": "https://github.com/myronmarston", "subscriptions_url": "https://api.github.com/users/myronmarston/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/42d4590355a1404230fbc9aff4dd377b?d=https%3A%2F%2Fidenticons.github.com%2F6916222172eb021e5d5f0043453078b9.png", "repos_url": "https://api.github.com/users/myronmarston/repos", "received_events_url": "https://api.github.com/users/myronmarston/received_events", "gravatar_id": "42d4590355a1404230fbc9aff4dd377b", "starred_url": "https://api.github.com/users/myronmarston/starred{/owner}{/repo}", "login": "myronmarston", "type": "User", "id": 49391, "followers_url": "https://api.github.com/users/myronmarston/followers"}, "owner": "rails", "_id": {"$oid": "52386459bd3543c151012617"}, "id": 1064560, "issue_url": "https://api.github.com/repos/rails/rails/issues/250"}
