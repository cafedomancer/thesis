{"body": "Simon De Boer raised some very valuable points on the core list, hopefully he can raise those here for simplicity's sake.  However in short, the current model where each migration is a single logical unit makes debugging failure much easier, and avoids implying that this is somehow 'magically safe'\n\nI have another objection which is that this couples together changes.  Remember that the bulk of migrations in a long lived project tend to not even be DDL changes, but data fixes or other jobs which need to be run to tidy up an unforeseen error.  These changes are often not just concerned with the database but also other external services.  Say migrating avatars from local disk to s3. Redoing those migrations because adding a unique index failed isn't very helpful.\n\nIf you have two migrations which must be run together, or not at all, then they should be a single migration.", "url": "https://api.github.com/repos/rails/rails/issues/comments/6437558", "created_at": "2012-06-19T21:09:12Z", "html_url": "https://github.com/rails/rails/pull/6768#issuecomment-6437558", "updated_at": "2012-06-19T21:09:12Z", "repo": "rails", "issue_id": 6768, "user": {"following_url": "https://api.github.com/users/NZKoz/following{/other_user}", "events_url": "https://api.github.com/users/NZKoz/events{/privacy}", "organizations_url": "https://api.github.com/users/NZKoz/orgs", "url": "https://api.github.com/users/NZKoz", "gists_url": "https://api.github.com/users/NZKoz/gists{/gist_id}", "html_url": "https://github.com/NZKoz", "subscriptions_url": "https://api.github.com/users/NZKoz/subscriptions", "avatar_url": "https://1.gravatar.com/avatar/efa76b164a7de4a5730e4fa397cc4425?d=https%3A%2F%2Fidenticons.github.com%2F85d8ce590ad8981ca2c8286f79f59954.png", "repos_url": "https://api.github.com/users/NZKoz/repos", "received_events_url": "https://api.github.com/users/NZKoz/received_events", "gravatar_id": "efa76b164a7de4a5730e4fa397cc4425", "starred_url": "https://api.github.com/users/NZKoz/starred{/owner}{/repo}", "login": "NZKoz", "type": "User", "id": 197, "followers_url": "https://api.github.com/users/NZKoz/followers"}, "owner": "rails", "_id": {"$oid": "52380449bd3543c15100c594"}, "id": 6437558, "issue_url": "https://api.github.com/repos/rails/rails/issues/6768"}
