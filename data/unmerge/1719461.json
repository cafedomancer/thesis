{"updated_at": "2011-08-03T16:38:24Z", "repo": "rails", "created_at": "2011-08-03T16:38:24Z", "owner": "rails", "url": "https://api.github.com/repos/rails/rails/issues/comments/1719461", "id": 1719461, "issue_url": "https://api.github.com/repos/rails/rails/issues/1993", "issue_id": 1993, "user": {"repos_url": "https://api.github.com/users/Fryguy/repos", "type": "User", "html_url": "https://github.com/Fryguy", "starred_url": "https://api.github.com/users/Fryguy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fryguy/subscriptions", "following_url": "https://api.github.com/users/Fryguy/following{/other_user}", "gravatar_id": "245b6b5244353a3be9babde7652493c1", "organizations_url": "https://api.github.com/users/Fryguy/orgs", "url": "https://api.github.com/users/Fryguy", "gists_url": "https://api.github.com/users/Fryguy/gists{/gist_id}", "avatar_url": "https://0.gravatar.com/avatar/245b6b5244353a3be9babde7652493c1?d=https%3A%2F%2Fidenticons.github.com%2F77161957d9238f826b23a955f6a0b5ce.png", "id": 52120, "events_url": "https://api.github.com/users/Fryguy/events{/privacy}", "login": "Fryguy", "received_events_url": "https://api.github.com/users/Fryguy/received_events", "followers_url": "https://api.github.com/users/Fryguy/followers"}, "body": "I've hit a similar issue like this in the past, and truncation actually exacerbated the issue.  For example, a migration like\r\n\r\n```ruby\r\nadd_index :really_long_table_name, [:another_column_thats_long, :this_is_a_column, :third_column, :fourth_column]\r\nadd_index :really_long_table_name, [:another_column_thats_long, :this_is_a_column, :third_column, :different_fourth_column]\r\n```\r\n\r\nproduces two indexes with the exact same name when using truncation, which of course raises an exception.  Internally, we just used the :name option to get around it, but one idea we came up with was to hash the column names (e.g. md5) to get a short name when the index length was higher than the max allowed length.  Even so, that's more of an edge case, and truncation is a good start.", "_id": {"$oid": "523fe6c0bd354364b901c1bb"}, "html_url": "https://github.com/rails/rails/pull/1993#issuecomment-1719461"}
