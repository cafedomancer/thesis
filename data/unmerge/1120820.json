{"body": "My next suggestion was going to be to refactor the change so that instead of changing here it's in commit_db_transction (it could simply raise if the thread is aborting). However that would prevent you from deliberately commiting transactions in ensure blocks when the thread is being killed....  In fact doesn't your code here prevent people from committing in ensure blocks?\r\n\r\nI can definitely see your point, but a partial fix for a subset of interpreters isn't really good enough.  I'll see if I can ping the jruby guys to get their thoughts on the change and whether they intend changing their code's behaviour\r\n\r\n ", "url": "https://api.github.com/repos/rails/rails/issues/comments/1120820", "created_at": "2011-05-09T01:29:08Z", "html_url": "https://github.com/rails/rails/pull/382#issuecomment-1120820", "updated_at": "2011-05-09T01:29:08Z", "repo": "rails", "issue_id": 382, "user": {"following_url": "https://api.github.com/users/NZKoz/following{/other_user}", "events_url": "https://api.github.com/users/NZKoz/events{/privacy}", "organizations_url": "https://api.github.com/users/NZKoz/orgs", "url": "https://api.github.com/users/NZKoz", "gists_url": "https://api.github.com/users/NZKoz/gists{/gist_id}", "html_url": "https://github.com/NZKoz", "subscriptions_url": "https://api.github.com/users/NZKoz/subscriptions", "avatar_url": "https://2.gravatar.com/avatar/efa76b164a7de4a5730e4fa397cc4425?d=https%3A%2F%2Fidenticons.github.com%2F85d8ce590ad8981ca2c8286f79f59954.png", "repos_url": "https://api.github.com/users/NZKoz/repos", "received_events_url": "https://api.github.com/users/NZKoz/received_events", "gravatar_id": "efa76b164a7de4a5730e4fa397cc4425", "starred_url": "https://api.github.com/users/NZKoz/starred{/owner}{/repo}", "login": "NZKoz", "type": "User", "id": 197, "followers_url": "https://api.github.com/users/NZKoz/followers"}, "owner": "rails", "_id": {"$oid": "52386109bd3543c1510122ed"}, "id": 1120820, "issue_url": "https://api.github.com/repos/rails/rails/issues/382"}
