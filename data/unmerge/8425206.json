{"body": "Had a similar problem lately, wanted to run something like this:\n\n```\nselect(s).joins(:rule, :campaign => :customer).joins(j).includes(:rule, :campaign, :customer).where(w.join(' AND ')).having(h.join(' AND ')).order('rule_resource.priority ASC').all\n```\n\nhttps://github.com/rails/rails/blob/3-2-stable/activerecord/lib/active_record/relation/finder_methods.rb#L230\n\nYou need to replace\n```\nrelation = except(:includes, :eager_load, :preload, :select).select(join_dependency.columns)\n```\nwith\n```\nrelation = except(:includes, :eager_load, :preload).select(join_dependency.columns)\n```\n\nCan anybody point out why there is a select there in the first place?\nIf it's there for a reason then having will never work in my case.", "url": "https://api.github.com/repos/rails/rails/issues/comments/8425206", "created_at": "2012-09-10T14:53:49Z", "html_url": "https://github.com/rails/rails/pull/2303#issuecomment-8425206", "updated_at": "2012-09-10T14:53:49Z", "repo": "rails", "issue_id": 2303, "user": {"following_url": "https://api.github.com/users/nijikon/following{/other_user}", "events_url": "https://api.github.com/users/nijikon/events{/privacy}", "organizations_url": "https://api.github.com/users/nijikon/orgs", "url": "https://api.github.com/users/nijikon", "gists_url": "https://api.github.com/users/nijikon/gists{/gist_id}", "html_url": "https://github.com/nijikon", "subscriptions_url": "https://api.github.com/users/nijikon/subscriptions", "avatar_url": "https://0.gravatar.com/avatar/847e48680668d9f26d7adda7d01a81a9?d=https%3A%2F%2Fidenticons.github.com%2Fe24193c120eb4ec01bacb50550a3e7c5.png", "repos_url": "https://api.github.com/users/nijikon/repos", "received_events_url": "https://api.github.com/users/nijikon/received_events", "gravatar_id": "847e48680668d9f26d7adda7d01a81a9", "starred_url": "https://api.github.com/users/nijikon/starred{/owner}{/repo}", "login": "nijikon", "type": "User", "id": 150547, "followers_url": "https://api.github.com/users/nijikon/followers"}, "owner": "rails", "_id": {"$oid": "52384506bd3543c151010dad"}, "id": 8425206, "issue_url": "https://api.github.com/repos/rails/rails/issues/2303"}
