{"issue_url": "https://api.github.com/repos/rails/rails/issues/6524", "repo": "rails", "body": "1) Rebased on master and 2) Made the IM behaviour a little more sane by only flushing the IM at obvious places.\n\nPreviously, entities in the IM would get evicted when a transaction failed, saving failed, counters were updated, and when associations were reloaded. Doing this makes the IM harder to understand because you can't rely on an entity you know you've loaded being in the IM. This leads to subtle bugs because the expectation is to only have one loaded copy of an entity in memory at a time.\n\nI think this makes reasoning about applications with the IM enabled easier. Please feel free to comment!", "_id": {"$oid": "523e4e93bd354364b900ee86"}, "issue_id": 6524, "url": "https://api.github.com/repos/rails/rails/issues/comments/6555887", "html_url": "https://github.com/rails/rails/pull/6524#issuecomment-6555887", "updated_at": "2012-06-25T18:38:05Z", "user": {"subscriptions_url": "https://api.github.com/users/sskirby/subscriptions", "events_url": "https://api.github.com/users/sskirby/events{/privacy}", "repos_url": "https://api.github.com/users/sskirby/repos", "gists_url": "https://api.github.com/users/sskirby/gists{/gist_id}", "url": "https://api.github.com/users/sskirby", "login": "sskirby", "gravatar_id": "4d4c378e3a10e2d01a636a33c359734c", "html_url": "https://github.com/sskirby", "following_url": "https://api.github.com/users/sskirby/following{/other_user}", "received_events_url": "https://api.github.com/users/sskirby/received_events", "organizations_url": "https://api.github.com/users/sskirby/orgs", "avatar_url": "https://0.gravatar.com/avatar/4d4c378e3a10e2d01a636a33c359734c?d=https%3A%2F%2Fidenticons.github.com%2F6f3e24662182e125fc58299809ee6a67.png", "starred_url": "https://api.github.com/users/sskirby/starred{/owner}{/repo}", "id": 25760, "followers_url": "https://api.github.com/users/sskirby/followers", "type": "User"}, "created_at": "2012-06-25T18:38:05Z", "id": 6555887, "owner": "rails"}
