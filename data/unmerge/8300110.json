{"issue_url": "https://api.github.com/repos/rails/rails/issues/7520", "repo": "rails", "body": "@carlosantoniodasilva It's only practical to perform the transformation you've described when the code using objects from the relation and the code setting up the relation are together - otherwise, you wind up with the wrapping code sprinkled everywhere.\n\nIn my app, the code that built the relation needed to conditionally wrap the returned objects for callers that might either paginate the relation or call `find(id)` against it; this method allowed that decision to be made in one place rather than in each action that used the relation.\n\nA more concrete example would be functionality like Draper's [`decorates_association`](https://github.com/jcasimir/draper/tree/#example-of-decorated-associations) which would be greatly simplified with `wrap_with`. For instance, the [top commit on that repo](https://github.com/jcasimir/draper/commit/044a6e6519aa788d023791f538a9cbaffe3bf796) is a revert of an attempt to deal with the need to wrap relations.\n\n/cc @steveklabnik - would love to hear your thoughts, as (presumably) a strong proponent of decorators.", "_id": {"$oid": "5237fac1bd3543c15100b6af"}, "issue_id": 7520, "url": "https://api.github.com/repos/rails/rails/issues/comments/8300110", "html_url": "https://github.com/rails/rails/pull/7520#issuecomment-8300110", "updated_at": "2012-09-05T14:13:10Z", "user": {"subscriptions_url": "https://api.github.com/users/al2o3cr/subscriptions", "events_url": "https://api.github.com/users/al2o3cr/events{/privacy}", "repos_url": "https://api.github.com/users/al2o3cr/repos", "gists_url": "https://api.github.com/users/al2o3cr/gists{/gist_id}", "url": "https://api.github.com/users/al2o3cr", "login": "al2o3cr", "gravatar_id": "6883e5ef03484d4fcef507d7b4f1d243", "html_url": "https://github.com/al2o3cr", "following_url": "https://api.github.com/users/al2o3cr/following{/other_user}", "received_events_url": "https://api.github.com/users/al2o3cr/received_events", "organizations_url": "https://api.github.com/users/al2o3cr/orgs", "avatar_url": "https://2.gravatar.com/avatar/6883e5ef03484d4fcef507d7b4f1d243?d=https%3A%2F%2Fidenticons.github.com%2Fb20bb95ab626d93fd976af958fbc61ba.png", "starred_url": "https://api.github.com/users/al2o3cr/starred{/owner}{/repo}", "id": 1191, "followers_url": "https://api.github.com/users/al2o3cr/followers", "type": "User"}, "created_at": "2012-09-05T14:13:10Z", "id": 8300110, "owner": "rails"}
